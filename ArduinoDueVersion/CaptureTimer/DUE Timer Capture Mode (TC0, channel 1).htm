<!DOCTYPE html>
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/privacy-modal.css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/newsletter-modal.css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/footer.css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/header.css"><script type="text/javascript" async="" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/analytics.js"></script><script async="" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/notice"></script>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/index.css">
	<link rel="stylesheet" type="text/css" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/responsive.css">
	<link rel="stylesheet" type="text/css" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/jquery.css">
	<style>
img.avatar { max-width: 65px; max-height: 65px; }</style>
	<script><!-- // --><![CDATA[
		var smf_theme_url = "https://forum.arduino.cc/Themes/default";
		var smf_default_theme_url = "https://forum.arduino.cc/Themes/default";
		var smf_images_url = "https://forum.arduino.cc/Themes/default/images";
		var smf_smileys_url = "https://forum.arduino.cc/Smileys";
		var smf_scripturl = "https://forum.arduino.cc/index.php";
		var smf_iso_case_folding = false;
		var smf_charset = "UTF-8";
		var smf_session_id = "239f266e81edd435a664e068e3b95400";
		var smf_session_var = "f832c6504";
		var smf_member_id;
		var ajax_notification_text = 'Loading...';
		var help_popup_heading_text = 'A little lost? Let me explain:';
	// ]]></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/jquery_002.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/smf_jquery_plugins.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/script.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/theme.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/editor.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/jquery.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/jquery_004.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/jquery_003.js"></script>
	<script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/topic.js"></script>
	<script><!-- // --><![CDATA[
		var smf_smileys_url = 'https://forum.arduino.cc/Smileys/arduino';
		var bbc_quote_from = 'Quote from';
		var bbc_quote = 'Quote';
		var bbc_search_on = 'on';
	// ]]></script>
	<meta name="description" content="DUE Timer Capture Mode (TC0, channel 1)">
	<title>DUE Timer Capture Mode (TC0, channel 1)</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#557EA0">
	<link rel="canonical" href="https://forum.arduino.cc/index.php?topic=459707.0">
	<link rel="help" href="https://forum.arduino.cc/index.php?action=help">
	<link rel="contents" href="https://forum.arduino.cc/index.php">
	<link rel="search" href="https://forum.arduino.cc/index.php?action=search">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - RSS" href="https://forum.arduino.cc/index.php?type=rss2;action=.xml">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - Atom" href="https://forum.arduino.cc/index.php?type=atom;action=.xml">
	<link rel="index" href="https://forum.arduino.cc/index.php?board=87.0">
<script type="text/javascript" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/notice_002" async="" crossorigin="true"></script><script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/header.js"></script><script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/footer.js"></script><script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/newsletter-modal.js"></script></head>
<body id="firefox" class="action_messageindex board_87"><div class="icons" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg">
  <symbol viewBox="0 0 18 18" id="icon-Global-Menu_Home-BBCube">
    <title>Toggle Navigation</title>
    <g>
      <path d="M4 3.158C4 3.623 3.623 4 3.158 4H.842C.377 4 0 3.623 0 3.158V.842C0 .377.377 0 .842 0h2.316C3.623 0 4 .377 4 .842v2.316zM18 3.158c0 .465-.377.842-.842.842h-2.316C14.377 4 14 3.623 14 3.158V.842c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 3.158c0 .465-.377.842-.842.842H7.842C7.377 4 7 3.623 7 3.158V.842C7 .377 7.377 0 7.842 0h2.316c.465 0 .842.377.842.842v2.316zM4 17.158c0 .465-.377.842-.842.842H.842C.377 18 0 17.623 0 17.158v-2.316C0 14.377.377 14 .842 14h2.316c.465 0 .842.377.842.842v2.316zM18 17.158c0 .465-.377.842-.842.842h-2.316c-.465 0-.842-.377-.842-.842v-2.316c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 17.158c0 .465-.377.842-.842.842H7.842C7.377 18 7 17.623 7 17.158v-2.316c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM4 10.158c0 .465-.377.842-.842.842H.842C.377 11 0 10.623 0 10.158V7.842C0 7.377.377 7 .842 7h2.316c.465 0 .842.377.842.842v2.316zM18 10.158c0 .465-.377.842-.842.842h-2.316c-.465 0-.842-.377-.842-.842V7.842c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 10.158c0 .465-.377.842-.842.842H7.842C7.377 11 7 10.623 7 10.158V7.842C7 7.377 7.377 7 7.842 7h2.316c.465 0 .842.377.842.842v2.316z"></path>
    </g>
  </symbol>
  <symbol viewBox="0 0 130.208 28.333" id="icon-Global-WebApp_Compressed">
    <title>Create Logo</title>
    <g>
      <path d="M51.066 14.02c0-6.424-5.416-11.655-12.082-11.655-.612 0-1.24.045-1.854.13-5.18.738-8.646 4.463-10.588 7.32-1.942-2.856-5.41-6.58-10.583-7.32-.62-.085-1.243-.13-1.86-.13-6.663 0-12.084 5.23-12.084 11.654 0 6.425 5.422 11.654 12.082 11.654.615 0 1.242-.047 1.862-.13 5.175-.744 8.64-4.467 10.583-7.33 1.942 2.863 5.407 6.586 10.588 7.33.615.083 1.243.13 1.863.13 6.656 0 12.073-5.228 12.073-11.655zm-35.69 7.432c-.43.062-.856.097-1.28.097-4.384 0-7.95-3.38-7.95-7.53S9.71 6.49 14.1 6.49c.42 0 .848.034 1.275.093 4.88.698 7.865 5.508 8.877 7.433-1.016 1.932-4 6.74-8.877 7.434zm13.463-7.433c1.007-1.93 3.995-6.736 8.87-7.434.426-.06.857-.093 1.273-.093 4.387 0 7.95 3.38 7.95 7.527 0 4.15-3.563 7.53-7.943 7.53-.42 0-.855-.035-1.282-.097-4.874-.695-7.86-5.505-8.87-7.434z"></path>
      <rect x="10.77" y="12.884" width="7.257" height="2.335"></rect>
      <polygon points="39.79,15.219 42.246,15.219 42.246,12.884 39.79,12.884 39.79,10.422 37.45,10.422 37.45,12.884 34.989,12.884 34.989,15.219 37.45,15.219 37.45,17.68 39.79,17.68"></polygon>
      <path d="M51.934 2.826c-.09-.21-.215-.393-.365-.542-.15-.15-.33-.27-.53-.36-.207-.09-.426-.134-.66-.134-.237 0-.46.043-.663.133-.204.09-.382.21-.53.36-.15.15-.274.334-.364.543-.088.208-.135.432-.135.68 0 .233.047.46.135.67.09.218.214.397.363.55.15.154.327.274.53.362.205.09.428.137.663.137.235 0 .453-.045.66-.137.202-.088.38-.208.53-.36.148-.154.274-.334.364-.55.088-.21.133-.44.133-.672 0-.248-.045-.472-.133-.68zm-.375 1.2c-.066.162-.16.3-.28.42-.123.122-.257.217-.41.29-.15.07-.312.107-.49.107-.18 0-.35-.038-.502-.107-.16-.073-.292-.168-.41-.29-.114-.12-.206-.258-.273-.42-.065-.16-.1-.332-.1-.52s.035-.364.1-.527c.067-.17.16-.308.273-.43.118-.12.25-.214.41-.28.153-.067.322-.102.5-.102.18 0 .343.035.493.1.153.068.288.162.41.283.12.123.214.26.28.43.068.162.104.338.104.525 0 .188-.035.36-.105.522zM50.745 3.67c.096-.044.168-.115.22-.2.053-.083.08-.178.08-.28 0-.162-.06-.302-.172-.42-.116-.12-.31-.176-.582-.176-.104 0-.195 0-.276.008-.082.004-.16.01-.236.018v1.69h.427v-.556h.172l.297.557h.48l-.41-.64zm-.424-.227c-.057 0-.098-.004-.126-.013v-.455c.028-.008.075-.017.138-.017.182 0 .273.085.273.245 0 .162-.093.24-.284.24z"></path>
    </g>
    <g>
      <path d="M79.724 11.917c0-1.647-.737-2.264-2.487-2.264h-2.162v4.426h2.248c1.338-.002 2.4-.5 2.4-2.163z"></path>
      <polygon points="96.968,15.502 100.691,15.502 98.821,9.91"></polygon>
      <path d="M58.66 2.498v23.074h69.573V2.498H58.66zm9.002 17.276c-3.07 0-5.147-1.664-5.147-5.678 0-3.74 2.145-5.8 5.3-5.8 1.133 0 2.3.276 2.934.67l-.464 1.287c-.635-.515-1.63-.755-2.505-.755-2.538 0-3.79 1.647-3.79 4.563 0 3.02 1.252 4.53 3.774 4.53 1.115 0 2.264-.326 2.796-.67l.344 1.168c-.875.463-2.04.686-3.242.686zm12.44-.172l-2.402-4.34h-2.625v4.34h-1.39V8.453h3.604c2.812 0 3.893 1.183 3.893 3.413 0 1.56-.79 2.642-2.076 3.122l2.642 4.615H80.1zm11.94-9.95h-6.175v3.637h5.593v1.183h-5.593v3.91h6.176v1.22h-7.565V8.45h7.565v1.202zm10.02 9.95l-.995-2.95H96.59l-.96 2.95h-1.39l3.894-11.15h1.475l3.91 11.15h-1.457zm11.12-9.95h-3.842v9.95h-1.39v-9.95h-3.86v-1.2h9.092v1.2zm10.054 0h-6.176v3.637h5.593v1.183h-5.593v3.91h6.176v1.22h-7.565V8.45h7.566v1.202z"></path>
    </g>
  </symbol>
  <symbol viewBox="0 0 24.202 24.276" id="icon-Global-user-profile">
    <title>User Profile</title>
    <path d="M20.912 19.718h-1c0-3.827-.883-6.2-5.28-6.2h-5.44c-4.397 0-5.28 2.23-5.28 5.825h-1v-.115c.017-3.337.81-6.71 6.28-6.71h5.44c5.534 0 6.28 3.64 6.28 7.2zM11.95 13.156c-2.464 0-4.468-2.1-4.468-4.68s2.004-4.68 4.467-4.68c2.462 0 4.466 2.1 4.466 4.68s-2.004 4.68-4.467 4.68zm0-8.36c-1.913 0-3.468 1.65-3.468 3.68 0 2.03 1.555 3.68 3.467 3.68 1.91 0 3.466-1.65 3.466-3.68 0-2.03-1.555-3.68-3.467-3.68zM12.034 23.98C5.436 23.98.07 18.61.07 12.013S5.435.05 12.033.05 24 5.415 24 12.013 18.63 23.98 12.033 23.98zm0-22.43C6.264 1.55 1.57 6.242 1.57 12.013S6.262 22.48 12.033 22.48 22.5 17.783 22.5 12.013 17.803 1.55 12.033 1.55z"></path>
  </symbol>
  <symbol viewBox="0 0 20.597 18.807" id="icon-Home-Grid-Open_in_new">
    <title>Open Link in New Tab</title>
    <rect x="14.542" y="-.105" transform="matrix(-.707 -.707 .707 -.707 23.247 19.503)" width="2.241" height="10.084"></rect>
    <path d="M20.597 1.123c0-.62-.5-1.12-1.12-1.12h-7.843V2h6.93v6.966h2.033V1.123zM19.24 18.807H1.356c-.747 0-1.355-.64-1.355-1.424V1.426C0 .64.608.003 1.355.003H8.24l.03 1.982H1.99l-.03 14.807h16.604v-3.988h2.032v4.58c0 .784-.608 1.423-1.355 1.423z"></path>
  </symbol>
</svg></div><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/foundation2.css" type="text/css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/common-hacked.css" type="text/css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/new_style.css" type="text/css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/fonts.css" type="text/css"><link rel="stylesheet" href="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/arduino-icons.css" type="text/css"><div id="header" class="temporary"><header id="ino-header">

  <nav class="arduino-nav collapsed">

    <!-- logo -->
    <div class="logo">
      <a href="https://forum.arduino.cc/" class="logo-link" role="button" aria-label="Homepage"></a>
      <a href="https://forum.arduino.cc/" class="logo-link-resellers" role="button" aria-label="Resellers Homepage"></a>
    </div>

    <!-- main nav -->
    <div class="main-nav" style="">

      <ul class="ul-burger">
        <li class="burger-menu">
          <a class="burger" role="button" aria-label="Toggle Menu"><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/burger_menu.svg" alt="Open Navigation"></a>
        </li>
      </ul>

      <ul class="nav-left">

        <!-- search form mobile -->
        <li class="level-1 show-mobile search-container">
          <a id="search-bar-mobile">
            <form role="search" id="searchform-mobile" method="GET" action="//www.google.com/search">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="hidden" name="oe" value="UTF-8">
              <input type="text" placeholder="Search" name="q" title="" class="search-typing" aria-label="search">
              <i class="clear-icon">×</i>
              <input type="hidden" name="domains" value="https://forum.arduino.cc" class="fill-it">
              <input type="hidden" name="sitesearch" value="https://forum.arduino.cc" class="fill-it">
            </form>
          </a>
        </li>
        <!-- search form end -->

        <!-- user menu mobile -->
        <li class="user-mobile level-1 signin-mobile">
          <div class="login-button" style="display: block;">
            <a href="https://auth.arduino.cc/login?client_id=forum&amp;redirect_uri=https%3A%2F%2Fforum.arduino.cc%2F&amp;state=2032992619&amp;scope=profile%3Acore+profile%3Apublic+profile%3Acontact+offline&amp;response_type=code">Sign In</a>
          </div>
        </li>
        <li class="user-mobile profile-mobile level-1">
          <div class="auth-required" style="display: none;">
              <a href="https://id.arduino.cc/">Profile</a>
            </div>
        </li>
        <li class="logout user-mobile signout-mobile level-1">
          <div class="auth-required" style="display: none;">
            <a>Sign Out</a>
          </div>
        </li>
        <!-- user menu mobile end -->

        <li class="level-1" id="home">
          <a href="https://www.arduino.cc/">Home</a>
        </li>

        <li class="has-submenu level-1">
          <a href="https://store.arduino.cc/">Store</a>
        </li>

        <li class="has-submenu level-1" id="software">
          <a role="button">Software</a>
          <ul class="nav-submenu">
            <li><a href="https://create.arduino.cc/" target="_blank" rel="noopener">Online Tools</a></li>
            <li><a href="https://www.arduino.cc/en/Main/Software">Downloads</a></li>
          </ul>
        </li>

        <li class="level-1" id="education">
          <a href="https://www.arduino.cc/en/Main/Education">
            <span class="full">Education</span>
            <span class="shorten">Edu</span>
          </a>
        </li>

        <li class="has-submenu level-1" id="resources">
          <a role="button">Resources</a>
          <ul class="nav-submenu">
            <li><a href="https://www.arduino.cc/en/Main/Products">Products</a></li>
            <li><a href="https://www.arduino.cc/en/Guide/HomePage">Getting Started</a></li>
            <li><a href="https://www.arduino.cc/en/Tutorial/HomePage">Tutorials</a></li>
            <li><a href="https://www.arduino.cc/reference/en">Reference</a></li>
            <li><a href="https://www.arduino.cc/en/IoT/HomePage">IoT Cloud</a></li>
          </ul>
        </li>


        <li class="has-submenu level-1" id="community">
          <a role="button">Community</a>
          <ul class="nav-submenu">
            <li><a href="https://forum.arduino.cc/">Forum</a></li>
            <li><a href="https://blog.arduino.cc/">Blog</a></li>
            <li><a href="https://create.arduino.cc/projecthub" target="_blank" rel="noopener">Project Hub</a></li>
            <li><a href="https://www.arduino.cc/en/aug">Arduino User Groups</a></li>
            <li><a href="http://playground.arduino.cc/">Playground</a></li>
            <li><a href="https://www.arduino.cc/en/ArduinoAtHeart/Products">AtHeart</a></li>
          </ul>
        </li>


        <li class="has-submenu level-1" id="help">
          <a role="button">Help</a>
          <ul class="nav-submenu">
            <li><a href="https://www.arduino.cc/en/Main/FAQ">FAQ</a></li>
            <li><a href="https://www.arduino.cc/en/ContactUs">Contact Us</a></li>
            <li><a href="https://store.arduino.cc/store-support">Store Support</a></li>
          </ul>
        </li>

        <!-- fake mobile button -->
        <li class="level-1">
          <div class="show-mobile fake-button">
          </div>
        </li>
        <!-- fake mobile button end -->

      </ul>
      <!-- main nav end -->

      <!-- nav right -->
      <ul class="nav-right">

        <!-- search form -->
        <li class="level-1 header-hide-mobile">
          <a id="search-bar">
          <form role="search" id="searchform" method="GET" action="//www.google.com/search">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="text" placeholder="Search" name="q" title="" class="search-typing">
            <i class="clear-icon">×</i>
            <input type="hidden" name="domains" value="https://forum.arduino.cc" class="fill-it">
            <input type="hidden" name="sitesearch" value="https://forum.arduino.cc" class="fill-it">
          </form>
          </a>
        </li>
        <!-- search form end -->

        <!-- language-selector -->
        <!--<li class="language-selector has-submenu level-1">

          <a><div class="selected-language eng"></div></a>

          <div class="nav-submenu">
            <div class="caret"></div>
            <div class="dropdown-box">
            <div class="left-col">
              <h5>Language</h5>
              <ul>
              <li><button class="language-btn"><img src="https://cdn.arduino.cc/header-footer/28xiz7ejyb/images/language_eng.svg"></button>English</li>
              <li><button class="language-btn"><img src="https://cdn.arduino.cc/header-footer/28xiz7ejyb/images/language_ita.svg"></button>Italian</li>
              <li><button class="language-btn"><img src="https://cdn.arduino.cc/header-footer/28xiz7ejyb/images/language_china.svg"></button>Chinese</li>
              </ul>
            </div>
            <div class="right-col">
              <h5>Currency</h5>
              <ul>
              <li><button class="currency-btn">EUR</button>Euro</li>
              <li><button class="currency-btn">USD</button>Dollar</li>
              <li><button class="currency-btn">GBP</button>Pound</li>
              <li><button class="currency-btn">CHF</button>Franc</li>
              <li><button class="currency-btn">HUF</button>Forint</li>
              </ul>
            </div>
            </div>
          </div>

        </li>-->
        <!-- language-selector end -->

        <!-- quotes start -->
        <li class="level-1 quotes-dropdown-trigger has-submenu">
          <a id="quotes-link">
          <div id="quotes"><span class="badge">0</span><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon_quotes.svg" alt="Show Quotes"></div>
          </a>

          <div class="quotes-submenu">
          <div class="caret"></div>
          <div class="dropdown-box">
            <div class="cart-close-button"></div>
            <p class="loading-content">Loading ...</p>

          </div>
          </div>
        </li>
        <!-- quotes end -->

        <!-- cart start -->
        <li class="level-1 cart-dropdown-trigger has-submenu">
          <a id="cart-link">
          <div id="cart"><span class="badge" style="display: none;">0</span><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/cart.svg" alt="Show Cart"></div>
          </a>

          <div class="cart-submenu" style="display: none;">
          <div class="caret"></div>
          <div class="dropdown-box">    <div class="cart-close-button"></div>
    <div class="block block-cart">
                <div class="block-content">
                                        <p class="empty">You have no items in your <a href="https://store.arduino.cc/checkout/cart/">shopping cart</a>.</p>
                                </div>
    </div>
</div>
          </div>
        </li>
        <!-- cart end -->

        <!-- geolocation button start -->
        <li class="level-1 store-location-button has-submenu" title="Select your location">
          <a aria-label="Change Store location">
            <div class="store-location">
              <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon_geolocation.svg" alt="Store Location">
            </div>
          </a>

          <div class="nav-submenu">
            <div class="caret"></div>
            <div class="dropdown-box">
              <div class="cart-close-button"></div>
              <p class="empty eu-africa">
                Not shopping from Africa or Europe?
                <a class="change-location">Change location here.</a>
              </p>
              <p class="empty america-asia">
                Not shopping from America, Asia or Oceania?
                <a class="change-location">Change location here.</a>
              </p>
            </div>
          </div>
        </li>
        <!-- geolocation end -->

        <li class="level-1">
          <div class="login-button" style="display: block;">
            <a href="https://auth.arduino.cc/login?client_id=forum&amp;redirect_uri=https%3A%2F%2Fforum.arduino.cc%2F&amp;state=2032992619&amp;scope=profile%3Acore+profile%3Apublic+profile%3Acontact+offline&amp;response_type=code">
              <span>Sign In</span>
            </a>
          </div>
        </li>

        <li class="profile-dropdown auth-required has-submenu level-1" style="display: none;">
          <a data-hj-suppress="" class="submenu-toggle profile" aria-label="user profile">
            <img class="user" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/global_user_profile.svg" alt="User Profile">
            <svg class="default">
              <use xlink:href="#icon-Global-user-profile"></use>
            </svg>
            <span class="badge">0</span>
          </a>

          <div class="nav-submenu">
            <div class="caret"></div>
            <div class="dropdown-box">
              <ul>
                <li>
                  <a href="https://id.arduino.cc/">Profile</a>
                </li>
                <li class="forum-messages">
                  <a href="https://forum.arduino.cc/index.php?action=pm">Messages</a>
                </li>
                <li class="logout">
                  <a>Sign Out</a>
                </li>
              </ul>
            </div>
          </div>

        </li>

      </ul>
      <!-- nav right -->
    </div>
  </nav>
  <div id="consent-modal-container"><div id="privacy-and-terms-modal" class="arduino-modal info-modal" action="https://api2.arduino.cc/consent/v1/approval/byUser/me" style="display: none;">
  <div id="privacy-and-terms-modal-backdrop" class="modal-backdrop"></div>
  <div class="modal-body approve-privacy-policy">

    <h1>OUR PRIVACY POLICY HAS BEEN UPDATED</h1>

    <form id="terms-privacy-form" novalidate="">
      <p>
        We updated recently our <a href="https://www.arduino.cc/PrivacyPolicy/en/" target="_blank" rel="noopener">Privacy policy</a>, please accept the new <a href="https://www.arduino.cc/en/Main/TermsOfService" target="_blank" rel="noopener">Terms of service</a>.
      </p>
      <ul class="privacy-settings">
        <li>
          <div id="privacy-and-terms-consent-error" class="upper-error-notif">Please accept our privacy policy and terms to continue using our services</div>
          <label class="checkbox">
                <input type="checkbox" id="privacy-and-terms-consent" name="privacy-consent" value="privacy_approval">

                <span class="custom-checkbox"></span>
                <span>I confirm to have read the <a href="https://www.arduino.cc/PrivacyPolicy/en/" target="_blank" rel="noopener">Privacy Policy</a> and to accept the <a href="https://www.arduino.cc/en/Main/TermsOfService" target="_blank" rel="noopener">Terms of Service</a></span>
              </label>
        </li>
      </ul>
      <section class="buttons-wrapper">
        <button name="Ok" type="submit" class="primary button" id="privacy-and-terms-ok-button">
                <span>AGREE AND CONTINUE</span>
              </button>
        <p id="privacy-modal-decline-link">or <a href="#">log out</a> and continue the navigation.</p>
      </section>
    </form>
  </div>
</div>
</div>
</header>
</div>

				<div class="navigate_section" id="headerbread">
          <div class="row" style="max-width: 960px!important;">
          <div class="small-12">
					<ul>
          
						<li>
					<a href="https://forum.arduino.cc/index.php"><span>Arduino Forum</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="https://forum.arduino.cc/index.php#c14"><span>Products</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="https://forum.arduino.cc/index.php?board=87.0"><span>Arduino Due</span></a> <span class="board_moderators">(Moderator: <a href="https://forum.arduino.cc/index.php?action=profile;u=580724" title="Board Moderator">fabioc84</a>)</span>
						</li>
						<li class="last">
							<span class="dividers"> &gt; </span>
					<a href="https://forum.arduino.cc/index.php?topic=459707.0"><span>DUE Timer Capture Mode (TC0, channel 1)</span></a>
						</li>
					</ul>
        </div>
				</div>
				</div>
  <div class="row collapse">
  <div class="small-12 columns">
	<div id="wrapper">
    <div id="upper_section">
			<div id="inner_section">
				<div id="main_menu">
					<ul class="dropmenu sf-js-enabled sf-arrows" id="menu_nav" style="touch-action: pan-y;">
					</ul>
				</div>
			</div>
		</div>
		<div id="content_section">
			<div id="main_content_section">

			<a id="msg3157508"></a>
			<div class="pagesection top">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="https://forum.arduino.cc/index.php?action=printpage;topic=459707.0" rel="nofollow">Print</a>
		</div>
				 <a href="#bot" class="topbottom floatleft">Go Down</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> 
				</div>
			</div>
			<div id="forumposts">
				<div class="cat_bar">
					<h3 class="catbg">
						<span id="top_subject" class="topic-icon topic-icon-">Topic: DUE Timer Capture Mode (TC0, channel 1)&nbsp;<span>(Read 1 time)</span></span>
						<span class="nextlinks floatright"><a href="https://forum.arduino.cc/index.php?topic=459707.0;prev_next=prev#new">previous topic</a> - <a href="https://forum.arduino.cc/index.php?topic=459707.0;prev_next=next#new">next topic</a></span>
					</h3>
				</div>
				<form action="https://forum.arduino.cc/index.php?action=quickmod2;topic=459707.0" method="post" accept-charset="UTF-8" name="quickModForm" id="quickModForm" style="margin: 0;" onsubmit="return oQuickModify.bInEditMode ? oQuickModify.modifySave('239f266e81edd435a664e068e3b95400', 'f832c6504') : false">
				<div class="windowbg">
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=656552" title="View the profile of genekennedy" class="pm_icon">genekennedy</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=656552"><img class="avatar" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/default.png" alt="avatar_genekennedy" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 3</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=656552;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/xx.png" alt="">
								</div>
								<div id="subject_3157508" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=459707.msg3157508#msg3157508" rel="nofollow">DUE Timer Capture Mode (TC0, channel 1)</a></div>
								<div class="page_number floatright">
									 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=459707.msg3157508#msg3157508" rel="nofollow" title=" - DUE Timer Capture Mode (TC0, channel 1)" class="smalltext">Mar 02, 2017, 10:44 pm</a>
									<span class="smalltext modified" id="modified_3157508"></span>
								</h5>
								<div id="msg_3157508_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_3157508">The code below is intended 
to use the TC0, channel 1 timer in capture mode with a MCK/2 (42MHz) 
clock. A frequency is generated on pin 7 (PWM) of 50Hz. A jumper is 
connected between pin 7 and A7 (TIOA1). I've check the frequency and 
duty cycle of the PWM with an oscilloscope and it is correct.<br><br>On 
the rising edge of TIOA1 the ISR will save the TC0_RA1 register. On the 
falling edge the ISR will save the TC0_RB1 register. The ISR also sets a
 flag to indicate to loop() that a new value is available and loop() 
clears the flag once the captured data is read from the variable.<br><br>The
 ISR is being fired but the data read from TC0_RA1 and TC0_RB1 are not 
correct. The ISR seems to be executing continuously. If I disconnect the
 jumper the ISR quits firing as it should. Don't quit understand this 
yet.<br><br>I'm hoping someone can help me out with what I'm doing wrong or leaving out of the code.<br><br>I've
 done a lot of research on this and have read the Atmel datasheet on 
this processor. The code is very close but still no cigar. <br><br>Any help will be greatly appreciated.<br><br>Thanks in advance!<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 200px;">// variables used within the ISR<br>volatile unsigned long CaptureCountA=0, CaptureCountB, TimerCount=0;<br>volatile bool CaptureFlag=0;<br><br>// define bit numbers for the TC registers we are using<br>const byte COVFS=0, LOVRS=1, CPAS=2, CPBS=3, CPCS=4, LDRAS=5, LDRBS=6, ETRGS=7,<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CLKSTA=16, MTIOA=17, MTIOB= 18; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// TC_IERx and TC_SRx bits<br>const byte CLKEN=0, CLKDIS=1, WSTRG=2; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// TC_CCRx bits<br>const byte TCCLKS=0, CLKI=3, BURST=4, LDBSTOP=6, LDBDIS=7, ETRGEDG=8, ABETRG=10,<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CPCTRG=14, WAVE=15, LDRA=16, LDRB=18; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// TC_CMRx bits<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // initilize serial port to 9600 baud<br>&nbsp;&nbsp;while (!Serial) { } &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // wait for serial port to initialize<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// setup TC0 bank, channel 1 (TC1) for input capture mode w/clk of 42MHz<br>&nbsp;&nbsp;pmc_enable_periph_clk (ID_TC0) ; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// enable clock the TC0 channeL 0, to access TC0_WPMR<br>&nbsp;&nbsp;REG_TC0_WPMR = 0x54494D00; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//WPKEY, disable<br>&nbsp;&nbsp;pmc_set_writeprotect(false); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// enable write to TC registers<br>&nbsp;&nbsp;pmc_enable_periph_clk (ID_TC1) ; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// enable clock the TC0 channel 1<br>&nbsp;&nbsp;REG_TC0_CCR1 = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // clear all bits in TC0_CCR1<br>&nbsp;&nbsp;REG_TC0_CCR1 = 1 &lt;&lt; CLKEN; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// enable clock<br>&nbsp;&nbsp;REG_TC0_CMR1 = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // capture mode, mclk/2, clk on rising edge<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// burst disabled, clk not disabled when loading RA/RB<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// capture mode<br>&nbsp;&nbsp;REG_TC0_CMR1=((3 &lt;&lt; ETRGEDG) | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// trigger on both edges of trigger input<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(1 &lt;&lt; ABETRG) | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TIOA is used as the external trigger<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(1 &lt;&lt; LDRA) | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // load RA on rising edge of trigger input<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(2 &lt;&lt; LDRB)); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // load RB on falling edge of trigger input<br>&nbsp;&nbsp;REG_TC0_IER1 = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // disable TC1 interrupts<br>&nbsp;&nbsp;REG_TC0_IER1 = ((1 &lt;&lt; LDRAS) | (1 &lt;&lt; LDRBS)); &nbsp; &nbsp; &nbsp; &nbsp; // enable TC1 RA and RB capture interrupts<br>&nbsp;&nbsp;REG_TC0_IMR1 = ((1 &lt;&lt; LDRAS) | (1 &lt;&lt; LDRBS)); &nbsp; &nbsp; &nbsp; &nbsp; // enable TC1 capture interrupt mask<br>&nbsp;&nbsp;REG_TC0_IDR1 = !((1 &lt;&lt; LDRAS) | (1 &lt;&lt; LDRBS)); &nbsp; &nbsp; &nbsp; &nbsp;// disable all other timer interrupts except capture<br>&nbsp;&nbsp;NVIC_EnableIRQ(TC1_IRQn); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // enable TC1 interrupts<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// print the startup header<br>&nbsp;&nbsp;Serial.println("Timer Capture");<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// use the DUE to output a PWM frequency on pin 7, pin A7 input to the timer capture, just for testing<br>&nbsp;&nbsp;pinMode(A7, INPUT); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TIOA1, input to TC1 for capture, A7 on DUE<br>// &nbsp;analogWrite(7,127); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // start PWM signal on pin 7, 50% duty cycle<br>&nbsp;&nbsp;analogWrite(7,64); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// start PWM signal on pin 7, 25% duty cycle<br>&nbsp;&nbsp;// a jumper needs to be installed between pin 7 (PWM output) and A7 (TC0,1 TIOA pin)<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (CaptureFlag) {<br>&nbsp;&nbsp; &nbsp;CaptureFlag=0;<br>&nbsp;&nbsp; &nbsp;Serial.print(CaptureCountA);<br>&nbsp;&nbsp; &nbsp;Serial.print(", ");<br>&nbsp;&nbsp; &nbsp;Serial.print(CaptureCountB);<br>&nbsp;&nbsp; &nbsp;Serial.print(", ");<br>&nbsp;&nbsp; &nbsp;Serial.println(TimerCount);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;else {<br>&nbsp;&nbsp; &nbsp;Serial.println(REG_TC0_CV1);<br>&nbsp;&nbsp;}<br>}<br><br>void TC1_Handler(){<br>&nbsp;&nbsp;TimerCount=REG_TC0_CV1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // save the timer counter register, for testing<br>&nbsp;&nbsp;TC_GetStatus(TC0, 1); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // get status, TC0 channel 1, allow the interrupt to fire again<br>&nbsp;&nbsp;if (MTIOA) {<br>&nbsp;&nbsp; &nbsp;CaptureCountA = REG_TC0_RA1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// get data from capture register A for TC0 channel 1<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;else {<br>&nbsp;&nbsp; &nbsp;CaptureCountB = REG_TC0_RB1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// get data from caputre register B for TC0 channel 1<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;CaptureFlag=1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// set flag idicating a new capture value present<br>}</code></pre></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div><div id="ad_container_zone" class="adv-banner"><script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/ajs"></script></div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg3157996"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="on" title="Online"></span>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=471922" title="View the profile of ard_newbie" class="pm_icon">ard_newbie</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=471922"><img class="avatar" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/default.png" alt="avatar_ard_newbie" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Edison Member</li>
								<li class="postcount">Posts: 1,739</li>
								<li class="custom karma">Karma: 160&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=471922;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/xx.png" alt="">
								</div>
								<div id="subject_3157996" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=459707.msg3157996#msg3157996" rel="nofollow">Re: DUE Timer Capture Mode (TC0, channel 1)</a></div>
								<div class="page_number floatright">
									 #1 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=459707.msg3157996#msg3157996" rel="nofollow" title="Reply #1 - Re: DUE Timer Capture Mode (TC0, channel 1)" class="smalltext">Mar 03, 2017, 09:20 am</a>
									<span class="smalltext modified" id="modified_3157996"><span class="lastedit">Last Edit</span>: Mar 03, 2017, 09:21 am by ard_newbie</span>
								</h5>
								<div id="msg_3157996_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_3157996">AFAICT, there is an issue in TC1_Handler() :<br><br>if
 (MTIOA) ...but MTIOA is a constant (= 17) thus the condition is always 
true ! CaptureCountA is incremented twice, whereas CaptureCountB is 
never incremented.<br><br>I did some simplifications in your sketch (not tested thought):<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 200px;"><br>// variables used within the ISR<br>volatile uint32_t CaptureCountA, CaptureCountB, TimerCount;<br>volatile boolean CaptureFlag;<br>/*<br>&nbsp;&nbsp;ISR/IRQ TC &nbsp; Channel Due pins (A,B)<br>&nbsp;&nbsp;TC0 &nbsp; &nbsp; TC0 &nbsp; &nbsp; 0 &nbsp; &nbsp; 2, &nbsp;13<br>&nbsp;&nbsp;TC1 &nbsp; &nbsp; TC0 &nbsp; &nbsp; 1 &nbsp; &nbsp; 60, 61<br>&nbsp;&nbsp;TC2 &nbsp; &nbsp; TC0 &nbsp; &nbsp; 2 &nbsp; &nbsp; 58<br>&nbsp;&nbsp;TC3 &nbsp; &nbsp; TC1 &nbsp; &nbsp; 0 &nbsp; &nbsp; none <br>&nbsp;&nbsp;TC4 &nbsp; &nbsp; TC1 &nbsp; &nbsp; 1 &nbsp; &nbsp; none<br>&nbsp;&nbsp;TC5 &nbsp; &nbsp; TC1 &nbsp; &nbsp; 2 &nbsp; &nbsp; none<br>&nbsp;&nbsp;TC6 &nbsp; &nbsp; TC2 &nbsp; &nbsp; 0 &nbsp; &nbsp; 5, &nbsp;4<br>&nbsp;&nbsp;TC7 &nbsp; &nbsp; TC2 &nbsp; &nbsp; 1 &nbsp; &nbsp; 3, &nbsp;10<br>&nbsp;&nbsp;TC8 &nbsp; &nbsp; TC2 &nbsp; &nbsp; 2 &nbsp; &nbsp; 11, 12<br>*/<br>void setup() {<br>&nbsp;&nbsp;Serial.begin(250000); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // initilize serial port to 250000 baud<br><br>&nbsp;&nbsp;analogWriteResolution(12); // From 0 to 2exp12 &nbsp;- 1 = 4095<br><br>&nbsp;&nbsp;PMC-&gt;PMC_PCER0 |= PMC_PCER0_PID28; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Timer Counter 0 channel 1 IS TC1<br><br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_CCR = TC_CCR_SWTRG | TC_CCR_CLKEN; // Reset TC counter and enable<br><br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_CMR = TC_CMR_TCCLKS_TIMER_CLOCK1 // capture mode, mclk/2, clk on rising edge<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_ETRGEDG_EDGE &nbsp; &nbsp; &nbsp; &nbsp;// trigger on both edges of trigger input<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_ABETRG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// TIOA is used as the external trigger<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_LDRA_RISING &nbsp; &nbsp; &nbsp; &nbsp; // load RA on rising edge of trigger input<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_LDRB_FALLING; &nbsp; &nbsp; &nbsp; // load RB on falling edge of trigger input<br><br><br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_IER |= TC_IER_LDRAS | TC_IER_LDRBS; // Trigger interruption on Load RA and load RB<br><br>&nbsp;&nbsp;NVIC_EnableIRQ(TC1_IRQn); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // enable TC1 interrupts<br><br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// print the startup header<br>&nbsp;&nbsp;Serial.println("Timer Capture");<br><br>&nbsp;&nbsp;// use the DUE to output a PWM frequency on pin 7, pin A7 input to the timer capture, just for testing<br>&nbsp;&nbsp;// pinMode(A7, INPUT); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TIOA1, input to TC1 for capture, A7 on DUE<br>&nbsp;&nbsp;// &nbsp;analogWrite(7,127); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // start PWM signal on pin 7, 50% duty cycle<br>&nbsp;&nbsp;//analogWrite(7,64); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// start PWM signal on pin 7, 25% duty cycle<br>&nbsp;&nbsp;analogWrite(7, 1024); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Duty cycle is 25% with 12 bits resolution<br><br>&nbsp;&nbsp;// a jumper needs to be installed between pin 7 (PWM output) and pin A7 (TC0 channel 1 TIOA pin)<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (CaptureFlag) {<br>&nbsp;&nbsp; &nbsp;CaptureFlag = 0;<br>&nbsp;&nbsp; &nbsp;Serial.print(CaptureCountA);<br>&nbsp;&nbsp; &nbsp;Serial.print(", ");<br>&nbsp;&nbsp; &nbsp;Serial.print(CaptureCountB);<br>&nbsp;&nbsp; &nbsp;Serial.print(", ");<br>&nbsp;&nbsp; &nbsp;Serial.println(TimerCount);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;else {<br>&nbsp;&nbsp; &nbsp;Serial.println(REG_TC0_CV1);<br>&nbsp;&nbsp;}<br>}<br><br>void TC1_Handler() {<br>&nbsp;&nbsp;//TC_GetStatus(TC0, 1); <br>&nbsp;&nbsp;uint32_t status = TC0-&gt;TC_CHANNEL[1].TC_SR; &nbsp; &nbsp; &nbsp; // Read &amp; Save status register --&gt;Clear status register<br>&nbsp;&nbsp; <br>&nbsp;&nbsp;TimerCount = TC0-&gt;TC_CHANNEL[1].TC_CV; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// save the timer counter register, for testing<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp;&nbsp;if ((status &amp; TC_SR_LDRAS) == TC_SR_LDRAS) { &nbsp;// If ISR is fired by LDRAS then ....<br>&nbsp;&nbsp; &nbsp;CaptureCountA = TC0-&gt;TC_CHANNEL[1].TC_RA; &nbsp; &nbsp; &nbsp; &nbsp;// get data from capture register A for TC0 channel 1<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;else <br>&nbsp;&nbsp;if ((status &amp; TC_SR_LDRBS) == TC_SR_LDRBS) { &nbsp;// If ISR is fired by LDRBS then .... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // If ISR is fired by LDRBS then ....<br>&nbsp;&nbsp; &nbsp;CaptureCountB = TC0-&gt;TC_CHANNEL[1].TC_RB; &nbsp; &nbsp; &nbsp; &nbsp; // get data from caputre register B for TC0 channel 1<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;CaptureFlag = 1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// set flag indicating a new capture value is present<br>}<br><br></code></pre><br><br><br><br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg3158542"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=656552" title="View the profile of genekennedy" class="pm_icon">genekennedy</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=656552"><img class="avatar" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/default.png" alt="avatar_genekennedy" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 3</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=656552;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/xx.png" alt="">
								</div>
								<div id="subject_3158542" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=459707.msg3158542#msg3158542" rel="nofollow">Re: DUE Timer Capture Mode (TC0, channel 1)</a></div>
								<div class="page_number floatright">
									 #2 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=459707.msg3158542#msg3158542" rel="nofollow" title="Reply #2 - Re: DUE Timer Capture Mode (TC0, channel 1)" class="smalltext">Mar 03, 2017, 05:42 pm</a>
									<span class="smalltext modified" id="modified_3158542"></span>
								</h5>
								<div id="msg_3158542_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_3158542">I tested the code you provided. The interrupt doesn't seem to fire continuously, that appears to be fixed.<br><br>It appears that the RA is captured but not RB.<br><br>Output to the serial monitor:<br><br>Timer Capture<br>1500<br>2233<br>2916<br>3599<br>4332<br>5015<br>5751<br>6434<br>7117<br>7852<br>8535<br>9270<br>9954<br>10688<br>11450<br>126<br>790<br>1402<br>2132<br>2815<br>3551<br>8728<br>18808<br>30568<br>31324, 0, 16<br>24028<br>31324, 0, 16<br>17488<br>29248<br>31324, 0, 16<br>22708<br>31324, 0, 16<br>16168<br>27928<br>31324, 0, 16<br>21388<br><br>I don't have time to work on this today but I will look into it further when I have time.<br><br>Thank you for your feed back.<br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg3158842"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="on" title="Online"></span>
								<a href="https://forum.arduino.cc/index.php?action=profile;u=471922" title="View the profile of ard_newbie" class="pm_icon">ard_newbie</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="https://forum.arduino.cc/index.php?action=profile;u=471922"><img class="avatar" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/default.png" alt="avatar_ard_newbie" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Edison Member</li>
								<li class="postcount">Posts: 1,739</li>
								<li class="custom karma">Karma: 160&nbsp;&nbsp;<a href="https://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=471922;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/xx.png" alt="">
								</div>
								<div id="subject_3158842" class="subject_title"><a href="https://forum.arduino.cc/index.php?topic=459707.msg3158842#msg3158842" rel="nofollow">Re: DUE Timer Capture Mode (TC0, channel 1)</a></div>
								<div class="page_number floatright">
									 #3 
								</div>
								<h5>
									<a href="https://forum.arduino.cc/index.php?topic=459707.msg3158842#msg3158842" rel="nofollow" title="Reply #3 - Re: DUE Timer Capture Mode (TC0, channel 1)" class="smalltext">Mar 03, 2017, 08:42 pm</a>
									<span class="smalltext modified" id="modified_3158842"><span class="lastedit">Last Edit</span>: Mar 19, 2017, 07:22 am by ard_newbie</span>
								</h5>
								<div id="msg_3158842_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_3158842">And after some minor changes, it works :<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 200px;"><br>&nbsp;// a jumper needs to be installed between pin 7 (PWM output) and pin A7 (TC0 channel 1 TIOA pin)<br><br>volatile uint32_t CaptureCountA, CaptureCountB, TimerCount;<br>volatile boolean CaptureFlag;<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(250000); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // initilize serial port to 250000 baud<br><br>&nbsp;&nbsp;analogWriteResolution(12); // From 0 to 2exp12 &nbsp;- 1 = 4095<br>&nbsp;&nbsp;analogWrite(7, 1024); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Duty cycle is 25% with 12 bits resolution<br><br>&nbsp;&nbsp;PMC-&gt;PMC_PCER0 |= PMC_PCER0_PID28; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Timer Counter 0 channel 1 IS TC1<br><br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_CCR = TC_CCR_CLKDIS ; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // disable internal clocking while setup regs<br><br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_CMR = TC_CMR_TCCLKS_TIMER_CLOCK1 // capture mode, MCK/2, clk on rising edge &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_ABETRG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// TIOA is used as the external trigger<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_LDRA_RISING &nbsp; &nbsp; &nbsp; &nbsp; // load RA on rising edge of trigger input<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| TC_CMR_LDRB_FALLING; &nbsp; &nbsp; &nbsp; // load RB on falling edge of trigger input<br><br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_IER |= TC_IER_LDRAS | TC_IER_LDRBS; // Trigger interruption on Load RA and load RB<br>&nbsp;&nbsp;TC0-&gt;TC_CHANNEL[1].TC_CCR = TC_CCR_SWTRG | TC_CCR_CLKEN; // Reset TC counter and enable<br><br>&nbsp;&nbsp;//NVIC_DisableIRQ(TC1_IRQn); <br>&nbsp;&nbsp;//NVIC_ClearPendingIRQ(TC1_IRQn); <br>&nbsp;&nbsp;//NVIC_SetPriority(TC1_IRQn, 0); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Give TC1 interrupt the highest urgency<br>&nbsp;&nbsp;NVIC_EnableIRQ(TC1_IRQn); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Enable TC1 interrupts<br><br>&nbsp;&nbsp;// print the startup header<br>&nbsp;&nbsp;Serial.println("Timer Capture");<br><br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (CaptureFlag) {<br>&nbsp;&nbsp; &nbsp;CaptureFlag = 0;<br>&nbsp;&nbsp; &nbsp;printf("\r %d , %d , %d \n", CaptureCountA,CaptureCountB,TimerCount);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;else {<br>&nbsp;&nbsp; &nbsp;Serial.println(TC0-&gt;TC_CHANNEL[1].TC_CV);<br>&nbsp;&nbsp;}<br>}<br><br>void TC1_Handler() {<br><br>&nbsp;&nbsp;//Registers A and B (RA and RB) are used as capture registers. They are loaded with<br>&nbsp;&nbsp;//the counter value TC_CV when a programmable event occurs on the signal TIOA.<br>&nbsp;&nbsp;TimerCount = TC0-&gt;TC_CHANNEL[1].TC_CV; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// save the timer counter register, for testing<br><br>&nbsp;&nbsp;uint32_t status = TC0-&gt;TC_CHANNEL[1].TC_SR; &nbsp; &nbsp; &nbsp; // Read &amp; Save satus register --&gt;Clear status register<br><br>&nbsp;&nbsp;// If TC_SR_LOVRSRA is set, RA or RB have been loaded at least twice without any read<br>&nbsp;&nbsp;// of the corresponding register since the last read of the Status Register,<br>&nbsp;&nbsp;// We are losing some values,trigger of TC_Handler is not fast enough !!<br>&nbsp;&nbsp;if ((status &amp; TC_SR_LOVRS) == TC_SR_LOVRS) abort();<br><br>&nbsp;&nbsp;if ((status &amp; TC_SR_LDRAS) == TC_SR_LDRAS) { &nbsp;// If ISR is fired by LDRAS then ....<br>&nbsp;&nbsp; &nbsp;CaptureCountA = TC0-&gt;TC_CHANNEL[1].TC_RA; &nbsp; &nbsp; &nbsp; &nbsp;// get data from capture register A for TC0 channel 1<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;else if ((status &amp; TC_SR_LDRBS) == TC_SR_LDRBS) { // If ISR is fired by LDRBS then ....<br>&nbsp;&nbsp; &nbsp;CaptureCountB = TC0-&gt;TC_CHANNEL[1].TC_RB; &nbsp; &nbsp; &nbsp; &nbsp; // get data from caputre register B for TC0 channel 1<br>&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;CaptureFlag = 1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// set flag indicating a new capture value is present<br>}<br><br></code></pre></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				</form>
			</div>
			<div class="pagesection">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="https://forum.arduino.cc/index.php?action=printpage;topic=459707.0" rel="nofollow">Print</a>
		</div>
				 <a href="#main_content_section" class="topbottom floatleft" id="bot">Go Up</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> 
				</div>
			</div>
			<div id="moderationbuttons">
				
			</div>
			<div id="display_jump_to"><label class="smalltext" for="display_jump_to_select">Jump to:</label> <select name="display_jump_to_select" id="display_jump_to_select" onfocus="grabJumpToContent(this);"><option value="?board=87.0" selected="selected">=&gt; Arduino Due</option></select>&nbsp;<input type="button" class="button_submit" value="Go" onclick="window.location.href = 'https://forum.arduino.cc/index.php?board=87.0';"></div>
			<br class="clear">
				<script><!-- // --><![CDATA[
					var oQuickReply = new QuickReply({
						bDefaultCollapsed: false,
						iTopicId: 459707,
						iStart: 0,
						sScriptUrl: smf_scripturl,
						sImagesUrl: smf_images_url,
						sContainerId: "quickReplyOptions",
						sImageId: "quickReplyExpand",
						sClassCollapsed: "toggle_up",
						sClassExpanded: "toggle_down",
						bIsFull: true
					});
					if ('XMLHttpRequest' in window)
					{
						var oQuickModify = new QuickModify({
							sScriptUrl: smf_scripturl,
							sClassName: 'quick_edit',
							bShowModify: true,
							iTopicId: 459707,
							sTemplateBodyEdit: '\n\t\t\t\t\t\t\t\t<div id="quick_edit_body_container">\n\t\t\t\t\t\t\t\t\t<div id="error_box" class="error"><' + '/div>\n\t\t\t\t\t\t\t\t\t<textarea class="editor" name="message" rows="12" style="width: 100%; margin-bottom: 10px;" tabindex="1">%body%<' + '/textarea><br>\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="f832c6504" value="239f266e81edd435a664e068e3b95400">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="topic" value="459707">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="msg" value="%msg_id%">\n\t\t\t\t\t\t\t\t\t<div class="righttext">\n\t\t\t\t\t\t\t\t\t\t<input type="submit" name="post" value="Save" tabindex="2" onclick="return oQuickModify.modifySave(\'239f266e81edd435a664e068e3b95400\', \'f832c6504\');" accesskey="s" class="button_submit">&nbsp;&nbsp;<input type="submit" name="cancel" value="Cancel" tabindex="3" onclick="return oQuickModify.modifyCancel();" class="button_submit">\n\t\t\t\t\t\t\t\t\t<' + '/div>\n\t\t\t\t\t\t\t\t<' + '/div>',
							sTemplateSubjectEdit: '<input type="text" name="subject" value="%subject%" size="80" maxlength="80" tabindex="4" class="input_text">',
							sTemplateBodyNormal: '%body%',
							sTemplateSubjectNormal: '<a hr'+'ef="' + smf_scripturl + '?topic=459707.msg%msg_id%#msg%msg_id%" rel="nofollow">%subject%<' + '/a>',
							sTemplateTopSubject: 'Topic: %subject% &nbsp;(Read 1 time)',
							sTemplateReasonEdit: '<input type="text" name="modify_reason" value="%modify_reason%" size="80" maxlength="80" tabindex="5" class="input_text">)',
							sTemplateReasonNormal: '%modify_text',
							sErrorBorderStyle: '1px solid red'
						});

						aJumpTo[aJumpTo.length] = new JumpTo({
							sContainerId: "display_jump_to",
							sJumpToTemplate: "<label class=\"smalltext\" for=\"%select_id%\">Jump to:<" + "/label> %dropdown_list%",
							iCurBoardId: 87,
							iCurBoardChildLevel: 0,
							sCurBoardName: "Arduino Due",
							sBoardChildLevelIndicator: "==",
							sBoardPrefix: "=> ",
							sCatSeparator: "-----------------------------",
							sCatPrefix: "",
							sGoButtonLabel: "Go"
						});

						aIconLists[aIconLists.length] = new IconList({
							sBackReference: "aIconLists[" + aIconLists.length + "]",
							sIconIdPrefix: "msg_icon_",
							sScriptUrl: smf_scripturl,
							bShowModify: true,
							iBoardId: 87,
							iTopicId: 459707,
							sSessionId: smf_session_id,
							sSessionVar: smf_session_var,
							sLabelIconList: "Message icon",
							sBoxBackground: "transparent",
							sBoxBackgroundHover: "#ffffff",
							iBoxBorderWidthHover: 1,
							sBoxBorderColorHover: "#adadad" ,
							sContainerBackground: "#ffffff",
							sContainerBorder: "1px solid #adadad",
							sItemBorder: "1px solid #ffffff",
							sItemBorderHover: "1px dotted gray",
							sItemBackground: "transparent",
							sItemBackgroundHover: "#e0e0f0"
						});
					}
				// ]]></script>
			</div>
		</div>
	</div>
  </div>
</div>
           <br><style>.pagefooter a { color: white !important; }</style>		<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async="" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/js"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-22581631-3');
	</script>
    <div>
      <div id="newsletter-modal"><div id="newsletter-popup-privacy" class="arduino-modal info-modal" action="https://api2.arduino.cc/consent/v1/subscription" style="display: none;">
  <!-- Step 1.5, approve the privacy policy -->
  <div id="privacy-modal-backdrop" class="modal-backdrop"></div>
  <div class="modal-body approve-privacy-policy">

    <h1>Privacy consent</h1>

    <div>
      <p>
        Arduino cares about the privacy and personal data of its users. The <a href="https://www.arduino.cc/en/Main/PrivacyPolicy" target="_blank" rel="noopener">privacy policy</a> is meant to inform you on how we process your personal data when you use our services.
      </p>

      <ul class="privacy-settings">
        <li>
          <div id="privacy-consent-error" class="upper-error-notif">Please confirm that you have read the privacy policy</div>
          <label class="checkbox">
            <input type="checkbox" id="privacy-consent" name="privacy-consent" value="privacy_approval">

            <span class="custom-checkbox"></span>
            <span>I confirm to have read the privacy policy<span class="required-asterisk">*</span></span>
          </label>
        </li>
        <li>
          <div id="newsletter-error" class="upper-error-notif">Please confirm your consent to receive the newsletter</div>
          <label class="checkbox">
            <input type="checkbox" id="newsletter-consent" name="newsletter-consent" value="newsletter_approval" checked="checked">

            <span class="custom-checkbox"></span>
            <span>I confirm my consent to receive your newsletter<span class="required-asterisk">*</span></span>
          </label>
        </li>
        <li>
          <label class="checkbox">
            <input type="checkbox" id="marketing-consent" value="marketing_approval">
            <span class="custom-checkbox"></span>
            <span>I confirm my consent to the processing of my personal 
data for marketing purposes, consisting in commercial offers sent via 
email</span>
          </label>
        </li>
        <li>
          <label class="checkbox">
            <input type="checkbox" id="tracking-consent" value="tracking_approval">
            <span class="custom-checkbox"></span>
            <span>I confirm my consent to automated processing of my 
personal data, by means of profiling, in order to receive commercial 
offers customized on the basis of my browsing and purchasing behavior</span>
          </label>
        </li>
      </ul>
      <div class="my-error-notification">
        <div id="newsletterSubscribeStatus"></div>
      </div>
      <section class="buttons-wrapper">
        <button name="Cancel" class="button secondary" id="newsletter-privacy-policy-cancel-button">Cancel</button>
        <button name="Ok" class="primary button" id="newsletter-privacy-policy-ok-button">Ok</button>
      </section>
    </div>
  </div>
</div>

<!-- step 2, confirm popup -->
<div id="newsletter-popup-confirm" class="arduino-modal info-modal" style="display: none;">
     <div class="modal-backdrop"></div>
  <div id="confirm-newsletter-modal-backdrop" class="modal-body confirm-email">
    <h1>Confirm your email address</h1>
    <div id="newsletterModalBody">
      <p>
        We need to confirm your email address.<br> To complete the subscription, please click the link in the email we just sent you.
      </p>
      <p>
        Thank you for subscribing!
      </p>
      <section class="buttons-wrapper">
        <button name="Ok" class="button" id="confirm-email-ok-button">Ok</button>
      </section>
    </div>
  </div>
</div>
</div>
      <div id="footer"><div id="footer-block" style="">
  <div class="newsletter-form">
    <h4 id="newsletter-input-label">Newsletter</h4>
    <div class="subscribe-wrapper">
      <div id="newsletter-email-error" class="upper-error-notif">Please insert a valid email</div>
      <div class="input-wrapper">
        <input id="newsletter-email" aria-labelledby="newsletter-input-label" type="email" name="email" class="email" placeholder="Enter your email to sign up">
        <button id="subscribe-btn" aria-label="Subscribe" class="button">Subscribe</button>
      </div>
    </div>
  </div>
  <section class="footer-links-wrapper">
    <ul id="footer-list">
      <li>
        <a href="https://www.arduino.cc/en/Main/TermsOfService">
          <span class="text">Terms Of Service</span>
        </a>
      </li>
      <li>
        <a href="https://www.arduino.cc/en/Main/PrivacyPolicy">
          <span class="text">Privacy Policy</span>
        </a>
      </li>
      <li>
        <div id="teconsent">
        </div>
      </li>
      <li>
        <a href="https://www.arduino.cc/en/Main/ContactUs">
          <span class="text">Contact Us</span>
        </a>
      </li>
      <li>
        <a href="https://www.arduino.cc/en/Main/AboutUs">
          <span class="text">About Us</span>
        </a>
      </li>
      <li>
        <a href="https://store.arduino.cc/distributors">
          <span class="text">Distributors</span>
        </a>
      </li>
      <li>
        <a href="https://www.arduino.cc/Careers">
          <span class="text">Careers</span>
        </a>
      </li>
      <li>
        <a href="https://www.arduino.cc/en/Main/Security">
          <span class="text">Security</span>
        </a>
      </li>
    </ul><!-- footer-list -->
    <div class="footer-note">
      <p>
        <a href="https://www.arduino.cc/en/Main/CopyrightNotice">
          <span class="text">
            © <span id="current-year">2019</span> Arduino
          </span>
        </a>
      </p>
    </div>
  </section>
  <ul class="social-btn-list">
    <li>
      <a href="https://www.facebook.com/official.arduino" target="_blank" id="facebook" class="facebook" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-facebook.svg" alt="facebook">
        <p class="follow-us">follow us on Facebook</p>
      </a>
    </li>
    <li>
      <a href="https://twitter.com/arduino" target="_blank" id="twitter" class="twitter" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-twitter.svg" alt="twitter">
        <p class="follow-us">follow us on Twitter</p>
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/+Arduino" target="_blank" id="gplus" class="gplus" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-gplus.svg" alt="google plus">
        <p class="follow-us">follow us on Google+</p>
      </a>
    </li>
    <li>
      <a href="https://www.instagram.com/arduino.cc/" target="_blank" id="instagram" class="instagram" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-instagram.svg" alt="instagram">
        <p class="follow-us">follow us on Instagram</p>
      </a>
    </li>
    <li>
      <a href="https://github.com/arduino/" target="_blank" id="github" class="github" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-github.svg" alt="github">
        <p class="follow-us">Arduino on GitHub</p>
      </a>
    </li>
    <li>
      <a href="https://www.flickr.com/photos/arduino_cc" target="_blank" id="flickr" class="flickr" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-flickr.svg" alt="flickr">
        <p class="follow-us">follow us on Flickr</p>
      </a>
    </li>
    <li>
      <a href="https://www.youtube.com/user/arduinoteam" target="_blank" id="youtube" class="youtube" rel="noopener">
        <img src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/icon-youtube.svg" alt="youtube">
        <p class="follow-us">follow us on YouTube</p>
      </a>
    </li>
  </ul>

  <button id="go-top" class="go-top-footer-btn" aria-label="Scroll Top">
    <span class="arrow-1"></span>
    <span class="arrow-2"></span>
    <span class="arrow-3"></span>
  </button>
</div><!-- footer-block -->
</div>
    </div>
    <script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/loader.js" type="text/javascript"></script>
    <script>
      var auth = {
        token: function() {
          return false ? Promise.resolve({
            token: null          }) : Promise.reject('loggedout')
        },
        redirectURI: function() {
          return 'https://auth.arduino.cc/login?client_id=forum&redirect_uri=https%3A%2F%2Fforum.arduino.cc%2F&state=2032992619&scope=profile%3Acore+profile%3Apublic+profile%3Acontact+offline&response_type=code';
        }
      };
      ArduinoHeaderAndFooter({
        auth: "custom",
        authOptions: auth
      });
    </script>
  <div id="ajax_in_progress" style="display: none;">Loading...</div>
<script><!-- // --><![CDATA[
	function triggerCron() {
		var tempImage = new Image();
		tempImage.src = 'https://forum.arduino.cc' + "/cron.php?ts=1551460425";
	}
	window.setTimeout(triggerCron, 1);
// ]]></script>
    <script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/modernizr.js"></script>
    <!--[if gte IE 9]><!-->
    <script src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/foundation.js"></script>
    <script>
      $(document).foundation();
    </script>
    <!--<![endif]-->
    <!--[if IE 8]>
    <script src="//content.arduino.cc/legacy/js/foundation_ie8.min.js"></script>
    <script src="//content.arduino.cc/legacy/js/ie8/jquery.foundation.alerts.js"></script>
    <script src="//content.arduino.cc/legacy/js/app.js"></script>
		<![endif]-->
		<script>
		// Adv banner configuration
		var arduinoAdvOptions = {
			breakpointDesktop: 480,
			breakpointMobile: 480,
			zoneIdDesktop: 561,
			zoneIdTablet: 560,
			zoneIdMobile: 560
		};

		jQuery('.boardindex_table .main_container:nth-child(1)').append('<div id="ad_container_zone" class="adv-banner"></div>');
		jQuery('#forumposts form .windowbg:nth-of-type(1)').after('<div id="ad_container_zone" class="adv-banner"></div>');

		</script>
		<!-- Script used by adv banner -->
		<script type="text/javascript" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/postscribe.js"></script>
		<script type="text/javascript" src="DUE%20Timer%20Capture%20Mode%20(TC0,%20channel%201)_files/banner.js"></script>

</body></html>