<!DOCTYPE html>
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/privacy-modal.css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/newsletter-modal.css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/footer.css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/header.css"><script type="text/javascript" async="" src="Timer%20Interrupts%20on%20Due_files/analytics.js"></script><script async="" src="Timer%20Interrupts%20on%20Due_files/notice"></script>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="Timer%20Interrupts%20on%20Due_files/index.css">
	<link rel="stylesheet" type="text/css" href="Timer%20Interrupts%20on%20Due_files/responsive.css">
	<link rel="stylesheet" type="text/css" href="Timer%20Interrupts%20on%20Due_files/jquery.css">
	<style>
img.avatar { max-width: 65px; max-height: 65px; }</style>
	<script><!-- // --><![CDATA[
		var smf_theme_url = "http://forum.arduino.cc/Themes/default";
		var smf_default_theme_url = "http://forum.arduino.cc/Themes/default";
		var smf_images_url = "http://forum.arduino.cc/Themes/default/images";
		var smf_smileys_url = "http://forum.arduino.cc/Smileys";
		var smf_scripturl = "http://forum.arduino.cc/index.php";
		var smf_iso_case_folding = false;
		var smf_charset = "UTF-8";
		var smf_session_id = "239f266e81edd435a664e068e3b95400";
		var smf_session_var = "f832c6504";
		var smf_member_id;
		var ajax_notification_text = 'Loading...';
		var help_popup_heading_text = 'A little lost? Let me explain:';
	// ]]></script>
	<script src="Timer%20Interrupts%20on%20Due_files/jquery_002.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/smf_jquery_plugins.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/script.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/theme.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/editor.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/jquery_003.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/jquery_004.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/jquery.js"></script>
	<script src="Timer%20Interrupts%20on%20Due_files/topic.js"></script>
	<script><!-- // --><![CDATA[
		var smf_smileys_url = 'http://forum.arduino.cc/Smileys/arduino';
		var bbc_quote_from = 'Quote from';
		var bbc_quote = 'Quote';
		var bbc_search_on = 'on';
	// ]]></script>
	<meta name="description" content="Timer Interrupts on Due">
	<title>Timer Interrupts on Due</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#557EA0">
	<link rel="canonical" href="http://forum.arduino.cc/index.php?topic=130423.0">
	<link rel="help" href="http://forum.arduino.cc/index.php?action=help">
	<link rel="contents" href="http://forum.arduino.cc/index.php">
	<link rel="search" href="http://forum.arduino.cc/index.php?action=search">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - RSS" href="http://forum.arduino.cc/index.php?type=rss2;action=.xml">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - Atom" href="http://forum.arduino.cc/index.php?type=atom;action=.xml">
	<link rel="next" href="http://forum.arduino.cc/index.php?topic=130423.15">
	<link rel="index" href="http://forum.arduino.cc/index.php?board=87.0">
<script type="text/javascript" src="Timer%20Interrupts%20on%20Due_files/notice_002" async="" crossorigin="true"></script><script src="Timer%20Interrupts%20on%20Due_files/header.js"></script><script src="Timer%20Interrupts%20on%20Due_files/footer.js"></script><script src="Timer%20Interrupts%20on%20Due_files/newsletter-modal.js"></script></head>
<body id="firefox" class="action_messageindex board_87"><div class="icons" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg">
  <symbol viewBox="0 0 18 18" id="icon-Global-Menu_Home-BBCube">
    <title>Toggle Navigation</title>
    <g>
      <path d="M4 3.158C4 3.623 3.623 4 3.158 4H.842C.377 4 0 3.623 0 3.158V.842C0 .377.377 0 .842 0h2.316C3.623 0 4 .377 4 .842v2.316zM18 3.158c0 .465-.377.842-.842.842h-2.316C14.377 4 14 3.623 14 3.158V.842c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 3.158c0 .465-.377.842-.842.842H7.842C7.377 4 7 3.623 7 3.158V.842C7 .377 7.377 0 7.842 0h2.316c.465 0 .842.377.842.842v2.316zM4 17.158c0 .465-.377.842-.842.842H.842C.377 18 0 17.623 0 17.158v-2.316C0 14.377.377 14 .842 14h2.316c.465 0 .842.377.842.842v2.316zM18 17.158c0 .465-.377.842-.842.842h-2.316c-.465 0-.842-.377-.842-.842v-2.316c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 17.158c0 .465-.377.842-.842.842H7.842C7.377 18 7 17.623 7 17.158v-2.316c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM4 10.158c0 .465-.377.842-.842.842H.842C.377 11 0 10.623 0 10.158V7.842C0 7.377.377 7 .842 7h2.316c.465 0 .842.377.842.842v2.316zM18 10.158c0 .465-.377.842-.842.842h-2.316c-.465 0-.842-.377-.842-.842V7.842c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 10.158c0 .465-.377.842-.842.842H7.842C7.377 11 7 10.623 7 10.158V7.842C7 7.377 7.377 7 7.842 7h2.316c.465 0 .842.377.842.842v2.316z"></path>
    </g>
  </symbol>
  <symbol viewBox="0 0 130.208 28.333" id="icon-Global-WebApp_Compressed">
    <title>Create Logo</title>
    <g>
      <path d="M51.066 14.02c0-6.424-5.416-11.655-12.082-11.655-.612 0-1.24.045-1.854.13-5.18.738-8.646 4.463-10.588 7.32-1.942-2.856-5.41-6.58-10.583-7.32-.62-.085-1.243-.13-1.86-.13-6.663 0-12.084 5.23-12.084 11.654 0 6.425 5.422 11.654 12.082 11.654.615 0 1.242-.047 1.862-.13 5.175-.744 8.64-4.467 10.583-7.33 1.942 2.863 5.407 6.586 10.588 7.33.615.083 1.243.13 1.863.13 6.656 0 12.073-5.228 12.073-11.655zm-35.69 7.432c-.43.062-.856.097-1.28.097-4.384 0-7.95-3.38-7.95-7.53S9.71 6.49 14.1 6.49c.42 0 .848.034 1.275.093 4.88.698 7.865 5.508 8.877 7.433-1.016 1.932-4 6.74-8.877 7.434zm13.463-7.433c1.007-1.93 3.995-6.736 8.87-7.434.426-.06.857-.093 1.273-.093 4.387 0 7.95 3.38 7.95 7.527 0 4.15-3.563 7.53-7.943 7.53-.42 0-.855-.035-1.282-.097-4.874-.695-7.86-5.505-8.87-7.434z"></path>
      <rect x="10.77" y="12.884" width="7.257" height="2.335"></rect>
      <polygon points="39.79,15.219 42.246,15.219 42.246,12.884 39.79,12.884 39.79,10.422 37.45,10.422 37.45,12.884 34.989,12.884 34.989,15.219 37.45,15.219 37.45,17.68 39.79,17.68"></polygon>
      <path d="M51.934 2.826c-.09-.21-.215-.393-.365-.542-.15-.15-.33-.27-.53-.36-.207-.09-.426-.134-.66-.134-.237 0-.46.043-.663.133-.204.09-.382.21-.53.36-.15.15-.274.334-.364.543-.088.208-.135.432-.135.68 0 .233.047.46.135.67.09.218.214.397.363.55.15.154.327.274.53.362.205.09.428.137.663.137.235 0 .453-.045.66-.137.202-.088.38-.208.53-.36.148-.154.274-.334.364-.55.088-.21.133-.44.133-.672 0-.248-.045-.472-.133-.68zm-.375 1.2c-.066.162-.16.3-.28.42-.123.122-.257.217-.41.29-.15.07-.312.107-.49.107-.18 0-.35-.038-.502-.107-.16-.073-.292-.168-.41-.29-.114-.12-.206-.258-.273-.42-.065-.16-.1-.332-.1-.52s.035-.364.1-.527c.067-.17.16-.308.273-.43.118-.12.25-.214.41-.28.153-.067.322-.102.5-.102.18 0 .343.035.493.1.153.068.288.162.41.283.12.123.214.26.28.43.068.162.104.338.104.525 0 .188-.035.36-.105.522zM50.745 3.67c.096-.044.168-.115.22-.2.053-.083.08-.178.08-.28 0-.162-.06-.302-.172-.42-.116-.12-.31-.176-.582-.176-.104 0-.195 0-.276.008-.082.004-.16.01-.236.018v1.69h.427v-.556h.172l.297.557h.48l-.41-.64zm-.424-.227c-.057 0-.098-.004-.126-.013v-.455c.028-.008.075-.017.138-.017.182 0 .273.085.273.245 0 .162-.093.24-.284.24z"></path>
    </g>
    <g>
      <path d="M79.724 11.917c0-1.647-.737-2.264-2.487-2.264h-2.162v4.426h2.248c1.338-.002 2.4-.5 2.4-2.163z"></path>
      <polygon points="96.968,15.502 100.691,15.502 98.821,9.91"></polygon>
      <path d="M58.66 2.498v23.074h69.573V2.498H58.66zm9.002 17.276c-3.07 0-5.147-1.664-5.147-5.678 0-3.74 2.145-5.8 5.3-5.8 1.133 0 2.3.276 2.934.67l-.464 1.287c-.635-.515-1.63-.755-2.505-.755-2.538 0-3.79 1.647-3.79 4.563 0 3.02 1.252 4.53 3.774 4.53 1.115 0 2.264-.326 2.796-.67l.344 1.168c-.875.463-2.04.686-3.242.686zm12.44-.172l-2.402-4.34h-2.625v4.34h-1.39V8.453h3.604c2.812 0 3.893 1.183 3.893 3.413 0 1.56-.79 2.642-2.076 3.122l2.642 4.615H80.1zm11.94-9.95h-6.175v3.637h5.593v1.183h-5.593v3.91h6.176v1.22h-7.565V8.45h7.565v1.202zm10.02 9.95l-.995-2.95H96.59l-.96 2.95h-1.39l3.894-11.15h1.475l3.91 11.15h-1.457zm11.12-9.95h-3.842v9.95h-1.39v-9.95h-3.86v-1.2h9.092v1.2zm10.054 0h-6.176v3.637h5.593v1.183h-5.593v3.91h6.176v1.22h-7.565V8.45h7.566v1.202z"></path>
    </g>
  </symbol>
  <symbol viewBox="0 0 24.202 24.276" id="icon-Global-user-profile">
    <title>User Profile</title>
    <path d="M20.912 19.718h-1c0-3.827-.883-6.2-5.28-6.2h-5.44c-4.397 0-5.28 2.23-5.28 5.825h-1v-.115c.017-3.337.81-6.71 6.28-6.71h5.44c5.534 0 6.28 3.64 6.28 7.2zM11.95 13.156c-2.464 0-4.468-2.1-4.468-4.68s2.004-4.68 4.467-4.68c2.462 0 4.466 2.1 4.466 4.68s-2.004 4.68-4.467 4.68zm0-8.36c-1.913 0-3.468 1.65-3.468 3.68 0 2.03 1.555 3.68 3.467 3.68 1.91 0 3.466-1.65 3.466-3.68 0-2.03-1.555-3.68-3.467-3.68zM12.034 23.98C5.436 23.98.07 18.61.07 12.013S5.435.05 12.033.05 24 5.415 24 12.013 18.63 23.98 12.033 23.98zm0-22.43C6.264 1.55 1.57 6.242 1.57 12.013S6.262 22.48 12.033 22.48 22.5 17.783 22.5 12.013 17.803 1.55 12.033 1.55z"></path>
  </symbol>
  <symbol viewBox="0 0 20.597 18.807" id="icon-Home-Grid-Open_in_new">
    <title>Open Link in New Tab</title>
    <rect x="14.542" y="-.105" transform="matrix(-.707 -.707 .707 -.707 23.247 19.503)" width="2.241" height="10.084"></rect>
    <path d="M20.597 1.123c0-.62-.5-1.12-1.12-1.12h-7.843V2h6.93v6.966h2.033V1.123zM19.24 18.807H1.356c-.747 0-1.355-.64-1.355-1.424V1.426C0 .64.608.003 1.355.003H8.24l.03 1.982H1.99l-.03 14.807h16.604v-3.988h2.032v4.58c0 .784-.608 1.423-1.355 1.423z"></path>
  </symbol>
</svg></div><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/foundation2.css" type="text/css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/common-hacked.css" type="text/css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/new_style.css" type="text/css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/fonts.css" type="text/css"><link rel="stylesheet" href="Timer%20Interrupts%20on%20Due_files/arduino-icons.css" type="text/css"><div id="header" class="temporary"><header id="ino-header">

  <nav class="arduino-nav collapsed">

    <!-- logo -->
    <div class="logo">
      <a href="http://forum.arduino.cc/" class="logo-link" role="button" aria-label="Homepage"></a>
      <a href="http://forum.arduino.cc/" class="logo-link-resellers" role="button" aria-label="Resellers Homepage"></a>
    </div>

    <!-- main nav -->
    <div class="main-nav" style="">

      <ul class="ul-burger">
        <li class="burger-menu">
          <a class="burger" role="button" aria-label="Toggle Menu"><img src="Timer%20Interrupts%20on%20Due_files/burger_menu.svg" alt="Open Navigation"></a>
        </li>
      </ul>

      <ul class="nav-left">

        <!-- search form mobile -->
        <li class="level-1 show-mobile search-container">
          <a id="search-bar-mobile">
            <form role="search" id="searchform-mobile" method="GET" action="//www.google.com/search">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="hidden" name="oe" value="UTF-8">
              <input type="text" placeholder="Search" name="q" title="" class="search-typing" aria-label="search">
              <i class="clear-icon">×</i>
              <input type="hidden" name="domains" value="http://forum.arduino.cc" class="fill-it">
              <input type="hidden" name="sitesearch" value="http://forum.arduino.cc" class="fill-it">
            </form>
          </a>
        </li>
        <!-- search form end -->

        <!-- user menu mobile -->
        <li class="user-mobile level-1 signin-mobile">
          <div class="login-button" style="display: block;">
            <a href="https://auth.arduino.cc/login?client_id=forum&amp;redirect_uri=https%3A%2F%2Fforum.arduino.cc%2F&amp;state=1171194949&amp;scope=profile%3Acore+profile%3Apublic+profile%3Acontact+offline&amp;response_type=code">Sign In</a>
          </div>
        </li>
        <li class="user-mobile profile-mobile level-1">
          <div class="auth-required" style="display: none;">
              <a href="https://id.arduino.cc/">Profile</a>
            </div>
        </li>
        <li class="logout user-mobile signout-mobile level-1">
          <div class="auth-required" style="display: none;">
            <a>Sign Out</a>
          </div>
        </li>
        <!-- user menu mobile end -->

        <li class="level-1" id="home">
          <a href="http://www.arduino.cc/">Home</a>
        </li>

        <li class="has-submenu level-1">
          <a href="http://store.arduino.cc/">Store</a>
        </li>

        <li class="has-submenu level-1" id="software">
          <a role="button">Software</a>
          <ul class="nav-submenu">
            <li><a href="http://create.arduino.cc/" target="_blank" rel="noopener">Online Tools</a></li>
            <li><a href="http://www.arduino.cc/en/Main/Software">Downloads</a></li>
          </ul>
        </li>

        <li class="level-1" id="education">
          <a href="http://www.arduino.cc/en/Main/Education">
            <span class="full">Education</span>
            <span class="shorten">Edu</span>
          </a>
        </li>

        <li class="has-submenu level-1" id="resources">
          <a role="button">Resources</a>
          <ul class="nav-submenu">
            <li><a href="http://www.arduino.cc/en/Main/Products">Products</a></li>
            <li><a href="http://www.arduino.cc/en/Guide/HomePage">Getting Started</a></li>
            <li><a href="http://www.arduino.cc/en/Tutorial/HomePage">Tutorials</a></li>
            <li><a href="http://www.arduino.cc/reference/en">Reference</a></li>
            <li><a href="http://www.arduino.cc/en/IoT/HomePage">IoT Cloud</a></li>
          </ul>
        </li>


        <li class="has-submenu level-1" id="community">
          <a role="button">Community</a>
          <ul class="nav-submenu">
            <li><a href="http://forum.arduino.cc/">Forum</a></li>
            <li><a href="http://blog.arduino.cc/">Blog</a></li>
            <li><a href="http://create.arduino.cc/projecthub" target="_blank" rel="noopener">Project Hub</a></li>
            <li><a href="http://www.arduino.cc/en/aug">Arduino User Groups</a></li>
            <li><a href="http://playground.arduino.cc/">Playground</a></li>
            <li><a href="http://www.arduino.cc/en/ArduinoAtHeart/Products">AtHeart</a></li>
          </ul>
        </li>


        <li class="has-submenu level-1" id="help">
          <a role="button">Help</a>
          <ul class="nav-submenu">
            <li><a href="http://www.arduino.cc/en/Main/FAQ">FAQ</a></li>
            <li><a href="http://www.arduino.cc/en/ContactUs">Contact Us</a></li>
            <li><a href="http://store.arduino.cc/store-support">Store Support</a></li>
          </ul>
        </li>

        <!-- fake mobile button -->
        <li class="level-1">
          <div class="show-mobile fake-button">
          </div>
        </li>
        <!-- fake mobile button end -->

      </ul>
      <!-- main nav end -->

      <!-- nav right -->
      <ul class="nav-right">

        <!-- search form -->
        <li class="level-1 header-hide-mobile">
          <a id="search-bar">
          <form role="search" id="searchform" method="GET" action="//www.google.com/search">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="text" placeholder="Search" name="q" title="" class="search-typing">
            <i class="clear-icon">×</i>
            <input type="hidden" name="domains" value="http://forum.arduino.cc" class="fill-it">
            <input type="hidden" name="sitesearch" value="http://forum.arduino.cc" class="fill-it">
          </form>
          </a>
        </li>
        <!-- search form end -->

        <!-- language-selector -->
        <!--<li class="language-selector has-submenu level-1">

          <a><div class="selected-language eng"></div></a>

          <div class="nav-submenu">
            <div class="caret"></div>
            <div class="dropdown-box">
            <div class="left-col">
              <h5>Language</h5>
              <ul>
              <li><button class="language-btn"><img src="https://cdn.arduino.cc/header-footer/28xiz7ejyb/images/language_eng.svg"></button>English</li>
              <li><button class="language-btn"><img src="https://cdn.arduino.cc/header-footer/28xiz7ejyb/images/language_ita.svg"></button>Italian</li>
              <li><button class="language-btn"><img src="https://cdn.arduino.cc/header-footer/28xiz7ejyb/images/language_china.svg"></button>Chinese</li>
              </ul>
            </div>
            <div class="right-col">
              <h5>Currency</h5>
              <ul>
              <li><button class="currency-btn">EUR</button>Euro</li>
              <li><button class="currency-btn">USD</button>Dollar</li>
              <li><button class="currency-btn">GBP</button>Pound</li>
              <li><button class="currency-btn">CHF</button>Franc</li>
              <li><button class="currency-btn">HUF</button>Forint</li>
              </ul>
            </div>
            </div>
          </div>

        </li>-->
        <!-- language-selector end -->

        <!-- quotes start -->
        <li class="level-1 quotes-dropdown-trigger has-submenu">
          <a id="quotes-link">
          <div id="quotes"><span class="badge">0</span><img src="Timer%20Interrupts%20on%20Due_files/icon_quotes.svg" alt="Show Quotes"></div>
          </a>

          <div class="quotes-submenu">
          <div class="caret"></div>
          <div class="dropdown-box">
            <div class="cart-close-button"></div>
            <p class="loading-content">Loading ...</p>

          </div>
          </div>
        </li>
        <!-- quotes end -->

        <!-- cart start -->
        <li class="level-1 cart-dropdown-trigger has-submenu">
          <a id="cart-link">
          <div id="cart"><span class="badge" style="display: none;">0</span><img src="Timer%20Interrupts%20on%20Due_files/cart.svg" alt="Show Cart"></div>
          </a>

          <div class="cart-submenu" style="display: none;">
          <div class="caret"></div>
          <div class="dropdown-box">    <div class="cart-close-button"></div>
    <div class="block block-cart">
                <div class="block-content">
                                        <p class="empty">You have no items in your <a href="https://store.arduino.cc/checkout/cart/">shopping cart</a>.</p>
                                </div>
    </div>
</div>
          </div>
        </li>
        <!-- cart end -->

        <!-- geolocation button start -->
        <li class="level-1 store-location-button has-submenu" title="Select your location">
          <a aria-label="Change Store location">
            <div class="store-location">
              <img src="Timer%20Interrupts%20on%20Due_files/icon_geolocation.svg" alt="Store Location">
            </div>
          </a>

          <div class="nav-submenu">
            <div class="caret"></div>
            <div class="dropdown-box">
              <div class="cart-close-button"></div>
              <p class="empty eu-africa">
                Not shopping from Africa or Europe?
                <a class="change-location">Change location here.</a>
              </p>
              <p class="empty america-asia">
                Not shopping from America, Asia or Oceania?
                <a class="change-location">Change location here.</a>
              </p>
            </div>
          </div>
        </li>
        <!-- geolocation end -->

        <li class="level-1">
          <div class="login-button" style="display: block;">
            <a href="https://auth.arduino.cc/login?client_id=forum&amp;redirect_uri=https%3A%2F%2Fforum.arduino.cc%2F&amp;state=1171194949&amp;scope=profile%3Acore+profile%3Apublic+profile%3Acontact+offline&amp;response_type=code">
              <span>Sign In</span>
            </a>
          </div>
        </li>

        <li class="profile-dropdown auth-required has-submenu level-1" style="display: none;">
          <a data-hj-suppress="" class="submenu-toggle profile" aria-label="user profile">
            <img class="user" src="Timer%20Interrupts%20on%20Due_files/global_user_profile.svg" alt="User Profile">
            <svg class="default">
              <use xlink:href="#icon-Global-user-profile"></use>
            </svg>
            <span class="badge">0</span>
          </a>

          <div class="nav-submenu">
            <div class="caret"></div>
            <div class="dropdown-box">
              <ul>
                <li>
                  <a href="https://id.arduino.cc/">Profile</a>
                </li>
                <li class="forum-messages">
                  <a href="http://forum.arduino.cc/index.php?action=pm">Messages</a>
                </li>
                <li class="logout">
                  <a>Sign Out</a>
                </li>
              </ul>
            </div>
          </div>

        </li>

      </ul>
      <!-- nav right -->
    </div>
  </nav>
  <div id="consent-modal-container"><div id="privacy-and-terms-modal" class="arduino-modal info-modal" action="https://api2.arduino.cc/consent/v1/approval/byUser/me" style="display: none;">
  <div id="privacy-and-terms-modal-backdrop" class="modal-backdrop"></div>
  <div class="modal-body approve-privacy-policy">

    <h1>OUR PRIVACY POLICY HAS BEEN UPDATED</h1>

    <form id="terms-privacy-form" novalidate="">
      <p>
        We updated recently our <a href="https://www.arduino.cc/PrivacyPolicy/en/" target="_blank" rel="noopener">Privacy policy</a>, please accept the new <a href="https://www.arduino.cc/en/Main/TermsOfService" target="_blank" rel="noopener">Terms of service</a>.
      </p>
      <ul class="privacy-settings">
        <li>
          <div id="privacy-and-terms-consent-error" class="upper-error-notif">Please accept our privacy policy and terms to continue using our services</div>
          <label class="checkbox">
                <input type="checkbox" id="privacy-and-terms-consent" name="privacy-consent" value="privacy_approval">

                <span class="custom-checkbox"></span>
                <span>I confirm to have read the <a href="https://www.arduino.cc/PrivacyPolicy/en/" target="_blank" rel="noopener">Privacy Policy</a> and to accept the <a href="https://www.arduino.cc/en/Main/TermsOfService" target="_blank" rel="noopener">Terms of Service</a></span>
              </label>
        </li>
      </ul>
      <section class="buttons-wrapper">
        <button name="Ok" type="submit" class="primary button" id="privacy-and-terms-ok-button">
                <span>AGREE AND CONTINUE</span>
              </button>
        <p id="privacy-modal-decline-link">or <a href="#">log out</a> and continue the navigation.</p>
      </section>
    </form>
  </div>
</div>
</div>
</header>
</div>

				<div class="navigate_section" id="headerbread">
          <div class="row" style="max-width: 960px!important;">
          <div class="small-12">
					<ul>
          
						<li>
					<a href="http://forum.arduino.cc/index.php"><span>Arduino Forum</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php#c14"><span>Products</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php?board=87.0"><span>Arduino Due</span></a> <span class="board_moderators">(Moderator: <a href="http://forum.arduino.cc/index.php?action=profile;u=580724" title="Board Moderator">fabioc84</a>)</span>
						</li>
						<li class="last">
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php?topic=130423.0"><span>Timer Interrupts on Due</span></a>
						</li>
					</ul>
        </div>
				</div>
				</div>
  <div class="row collapse">
  <div class="small-12 columns">
	<div id="wrapper">
    <div id="upper_section">
			<div id="inner_section">
				<div id="main_menu">
					<ul class="dropmenu sf-js-enabled sf-arrows" id="menu_nav" style="touch-action: pan-y;">
					</ul>
				</div>
			</div>
		</div>
		<div id="content_section">
			<div id="main_content_section">

			<a id="msg981027"></a>
			<div class="pagesection top">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="http://forum.arduino.cc/index.php?action=printpage;topic=130423.0" rel="nofollow">Print</a>
		</div>
				 <a href="#bot" class="topbottom floatleft">Go Down</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.15">2</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.30">3</a> <span class="expand_pages" onclick="expandPages(this, '<a class=&quot;navPages&quot; href=&quot;' + smf_scripturl + '?topic=130423.%1$d&quot;>%2$s</a> ', 45, 135, 15);"> ... </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.135">10</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.15"><span class="next_page"></span></a> 
				</div>
			</div>
			<div id="forumposts">
				<div class="cat_bar">
					<h3 class="catbg">
						<span id="top_subject" class="topic-icon topic-icon-">Topic: Timer Interrupts on Due&nbsp;<span>(Read 206130 times)</span></span>
						<span class="nextlinks floatright"><a href="http://forum.arduino.cc/index.php?topic=130423.0;prev_next=prev#new">previous topic</a> - <a href="http://forum.arduino.cc/index.php?topic=130423.0;prev_next=next#new">next topic</a></span>
					</h3>
				</div>
				<form action="http://forum.arduino.cc/index.php?action=quickmod2;topic=130423.0" method="post" accept-charset="UTF-8" name="quickModForm" id="quickModForm" style="margin: 0;" onsubmit="return oQuickModify.bInEditMode ? oQuickModify.modifySave('239f266e81edd435a664e068e3b95400', 'f832c6504') : false">
				<div class="windowbg">
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=153016" title="View the profile of bg94" class="pm_icon">bg94</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=153016"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/default.png" alt="avatar_bg94" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 3</li>
								<li class="custom karma">Karma: 1&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=153016;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_981027" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg981027#msg981027" rel="nofollow">Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg981027#msg981027" rel="nofollow" title=" - Timer Interrupts on Due" class="smalltext">Nov 03, 2012, 12:02 am</a>
									<span class="smalltext modified" id="modified_981027"></span>
								</h5>
								<div id="msg_981027_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_981027">I've been searching through 
the library code as well as thoroughly searched Google and haven't come 
across any working timer interrupt code for the Due. I could do this on 
the Uno in my sleep, but have yet to figure it out on the Due. Any 
pointers (http://xkcd.com/138/) or example code would be greatly 
appreciated. Basically I want to get a function to run once every X 
microseconds. Thanks.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div><div id="ad_container_zone" class="adv-banner"><script src="Timer%20Interrupts%20on%20Due_files/ajs"></script></div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg981418"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=105845" title="View the profile of mantoui" class="pm_icon">mantoui</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=105845"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/mantoui.jpg" alt="avatar_mantoui" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">Full Member</li>
								<li class="postcount">Posts: 127</li>
								<li class="custom karma">Karma: 32&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=105845;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_981418" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg981418#msg981418" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #1 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg981418#msg981418" rel="nofollow" title="Reply #1 - Re: Timer Interrupts on Due" class="smalltext">Nov 03, 2012, 12:23 pm</a>
									<span class="smalltext modified" id="modified_981418"></span>
								</h5>
								<div id="msg_981418_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_981418">Yeah, I was hoping to get 
timer interrupt hints on my thread for Tone.cpp code.&nbsp; I've done 
timers on Uno and Maple, but Maple IO architecture is quite different 
from DUE.&nbsp; There is PWM timer code in<br>hardware/arduino/sam/cores/arduino/wiring_analog.c<br>but no interrupt code.&nbsp; The Timer/Counter support routines (no interrupt routines) are in<br>hardware/arduino/sam/system/libsam/source/tc.c<br>with the #define's in <br>hardware/arduino/sam/system/CMSIS/Device/ATMEL/sam3sd8/include/component/component_tc.h<br>The ISR handler's are named TCx_Handler(), e.g.&nbsp; TC0_Handler()<br><br>I'm guessing (don't have a DUE yet) that interrupt enable would be something like<br> tc-&gt;TC_CHANNEL[chan].TC_IER = TC_IER_CPCS;<br>but there is also an interrupt mask register TC_IMR?<br><br>not much help, but hopeful ...</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg982062"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=18681" title="View the profile of stimmer" class="pm_icon">stimmer</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=18681"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/default.png" alt="avatar_stimmer" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 507</li>
								<li class="custom karma">Karma: 51&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=18681;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982062" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982062#msg982062" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #2 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982062#msg982062" rel="nofollow" title="Reply #2 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 04:17 am</a>
									<span class="smalltext modified" id="modified_982062"></span>
								</h5>
								<div id="msg_982062_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982062">I think I'm getting somewhere with this... try this:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 200px;"><br>volatile boolean l;<br><br>void TC0_Handler()<br>{<br>&nbsp; &nbsp; long dummy=REG_TC0_SR0; // vital - reading this clears some flag<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // otherwise you get infinite interrupts<br>&nbsp; &nbsp; l= !l;<br>}<br><br>void setup(){<br>&nbsp; pinMode(13,OUTPUT);<br>&nbsp; pinMode(2,OUTPUT);&nbsp; &nbsp; // port B pin 25&nbsp; <br>&nbsp; analogWrite(2,255);&nbsp; &nbsp;// sets up some other registers I haven't worked out yet<br>&nbsp; REG_PIOB_PDR = 1&lt;&lt;25; // disable PIO, enable peripheral<br>&nbsp; REG_PIOB_ABSR= 1&lt;&lt;25; // select peripheral B<br>&nbsp; REG_TC0_WPMR=0x54494D00; // enable write to registers<br>&nbsp; REG_TC0_CMR0=0b00000000000010011100010000000000; // set channel mode register (see datasheet)<br>&nbsp; REG_TC0_RC0=100000000; // counter period<br>&nbsp; REG_TC0_RA0=30000000;&nbsp; // PWM value<br>&nbsp; REG_TC0_CCR0=0b101;&nbsp; &nbsp; // start counter<br>&nbsp; REG_TC0_IER0=0b00010000; // enable interrupt on counter=rc<br>&nbsp; REG_TC0_IDR0=0b11101111; // disable other interrupts<br><br>&nbsp; NVIC_EnableIRQ(TC0_IRQn); // enable TC0 interrupts<br><br>}<br><br>void loop(){<br>&nbsp; &nbsp; &nbsp; digitalWrite(13,l);<br>}<br></code></pre><br>The timer controls the output of pin 2 and the interrupt toggles a flag which is output on pin 13.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_982062_signature">Due VGA library - http://arduino.cc/forum/index.php/topic,150517.0.html</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg982105"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=61029" title="View the profile of DuaneB" class="pm_icon">DuaneB</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=61029"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/default.png" alt="avatar_DuaneB" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/stargold.gif" alt="*"></li>
								<li class="postgroup">Edison Member</li>
								<li class="postcount">Posts: 1,673</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://rcarduino.blogspot.com/" title="RC Car Meets Arduino" target="_blank" class="new_win"><span class="generic_icons www centericon" title="RC Car Meets Arduino"></span></a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 40&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=61029;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
								<li class="link-profile"><a href="http://rcarduino.blogspot.com/">RC Car Meets Arduino</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982105" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982105#msg982105" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #3 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982105#msg982105" rel="nofollow" title="Reply #3 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 06:21 am</a>
									<span class="smalltext modified" id="modified_982105"></span>
								</h5>
								<div id="msg_982105_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982105">Hi,<br>&nbsp; &nbsp;Whats the best resource you have found for describing the timer registers ?<br><br>Thanks<br><br>Duane B<br><br><a href="http://rcarduino.blogspot.com/" class="bbc_link" target="_blank">rcarduino.blogspot.com</a></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_982105_signature">Read this<br>http://rcarduino.blogspot.com/2012/04/servo-problems-with-arduino-part-1.html<br>then watch this<br>http://rcarduino.blogspot.com/2012/04/servo-problems-part-2-demonstration.html<br><br>Rcarduino.blogspot.com</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg982214"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								seavik
							</h4>
							<ul class="user_info">
								<li class="membergroup">Guest</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982214" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982214#msg982214" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #4 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982214#msg982214" rel="nofollow" title="Reply #4 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 10:55 am</a>
									<span class="smalltext modified" id="modified_982214"></span>
								</h5>
								<div id="msg_982214_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982214">Not what you're looking for, but on a similar topic:<br>I
 wanted to use the TC* timers to create a software servo library but I 
couldn't find out how to use the timers so I ended up using the PWM 
clock to generate the output.<br><br>While testing the PWM pulse I used 
attachInterrupt on the same pin to measure the pulse timing, effectively
 creating software interrupts. It's a hack, but if you're interested the
 code is here: <a href="http://arduino.cc/forum/index.php/topic,130631.0.html" class="bbc_link" target="_blank">http://arduino.cc/forum/index.php/topic,130631.0.html</a><br>It doesn't use any registers, so I can't tell you about those - just add attachInterrupt()</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg982344"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=105845" title="View the profile of mantoui" class="pm_icon">mantoui</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=105845"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/mantoui.jpg" alt="avatar_mantoui" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">Full Member</li>
								<li class="postcount">Posts: 127</li>
								<li class="custom karma">Karma: 32&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=105845;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982344" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982344#msg982344" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #5 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982344#msg982344" rel="nofollow" title="Reply #5 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 01:06 pm</a>
									<span class="smalltext modified" id="modified_982344"></span>
								</h5>
								<div id="msg_982344_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982344">timer/counter registers are detailed in chapter 37 of datasheet</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg982521"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=153016" title="View the profile of bg94" class="pm_icon">bg94</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=153016"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/default.png" alt="avatar_bg94" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 3</li>
								<li class="custom karma">Karma: 1&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=153016;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982521" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982521#msg982521" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #6 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982521#msg982521" rel="nofollow" title="Reply #6 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 04:14 pm</a>
									<span class="smalltext modified" id="modified_982521"></span>
								</h5>
								<div id="msg_982521_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982521"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982062#msg982062">Quote from: stimmer on Nov 04, 2012, 04:17 am</a></div><blockquote class="bbc_standard_quote"><br>I think I'm getting somewhere with this... try this:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 200px;"><br>volatile boolean l;<br><br>void TC0_Handler()<br>{<br>&nbsp; &nbsp; long dummy=REG_TC0_SR0; // vital - reading this clears some flag<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // otherwise you get infinite interrupts<br>&nbsp; &nbsp; l= !l;<br>}<br><br>void setup(){<br>&nbsp; pinMode(13,OUTPUT);<br>&nbsp; pinMode(2,OUTPUT);&nbsp; &nbsp; // port B pin 25&nbsp; <br>&nbsp; analogWrite(2,255);&nbsp; &nbsp;// sets up some other registers I haven't worked out yet<br>&nbsp; REG_PIOB_PDR = 1&lt;&lt;25; // disable PIO, enable peripheral<br>&nbsp; REG_PIOB_ABSR= 1&lt;&lt;25; // select peripheral B<br>&nbsp; REG_TC0_WPMR=0x54494D00; // enable write to registers<br>&nbsp; REG_TC0_CMR0=0b00000000000010011100010000000000; // set channel mode register (see datasheet)<br>&nbsp; REG_TC0_RC0=100000000; // counter period<br>&nbsp; REG_TC0_RA0=30000000;&nbsp; // PWM value<br>&nbsp; REG_TC0_CCR0=0b101;&nbsp; &nbsp; // start counter<br>&nbsp; REG_TC0_IER0=0b00010000; // enable interrupt on counter=rc<br>&nbsp; REG_TC0_IDR0=0b11101111; // disable other interrupts<br><br>&nbsp; NVIC_EnableIRQ(TC0_IRQn); // enable TC0 interrupts<br><br>}<br><br>void loop(){<br>&nbsp; &nbsp; &nbsp; digitalWrite(13,l);<br>}<br></code></pre><br>The timer controls the output of pin 2 and the interrupt toggles a flag which is output on pin 13.<br></blockquote><div class="quotefooter"></div><br><br>I'll
 give this a shot thanks. I am curious though why you didn't do a 
digitalWrite() inside the handler? Arduino's digitalWrite() function is 
pretty clock-cycle heavy, but the following code works just fine for 
writing a digital output and only takes a couple of clock cycles if that
 was the primary concern.<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: auto;">static inline void pinOutput(int pin, int val)<br>{<br><span style="white-space: pre;">	</span>if (val)<br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>g_APinDescription[pin].pPort-&gt;PIO_SODR = g_APinDescription[pin].ulPin;<br><span style="white-space: pre;">	</span>else<br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>g_APinDescription[pin].pPort-&gt;PIO_CODR = g_APinDescription[pin].ulPin;<br>}</code></pre><br><br>On
 another note, Maple uses a different processor, but gives as good of an
 explanation / example of how timers work as I've found so far:<br>http://leaflabs.com/docs/timers.html<br>http://leaflabs.com/docs/lang/api/hardwaretimer.html<br>http://leaflabs.com/docs/libmaple/api/timer.html<br><br>I haven't tried to implement any of their code yet, but thought I'd share the links.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg982913"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=18681" title="View the profile of stimmer" class="pm_icon">stimmer</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=18681"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/default.png" alt="avatar_stimmer" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 507</li>
								<li class="custom karma">Karma: 51&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=18681;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982913" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982913#msg982913" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #7 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982913#msg982913" rel="nofollow" title="Reply #7 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 09:20 pm</a>
									<span class="smalltext modified" id="modified_982913"></span>
								</h5>
								<div id="msg_982913_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982913">I recognize that code fragment <img src="Timer%20Interrupts%20on%20Due_files/cool.gif" alt="8)" title="Cool" class="smiley"><br><br>As
 for digitalWrite not being in the handler, actually it was there 
originally, but you have to understand that I'd been struggling for 
hours with interrupt code that wouldn't fire, then it only fired once, 
then it got hammered with constant interrupts, and I didn't know what 
was going on. So I did what is pretty much standard debugging practice 
and changed the interrupt handler to do the absolute bare minimum just 
to be sure that digitalWrite wasn't causing a side effect (there's some 
architectures where you can't write certain registers in an interrupt). 
But the important thing turned out to be the dummy read of TC_SR0. By 
then it was late so I just posted what I'd done.<br><br>Since then I have tried putting digitalWrite and direct port writes back in and they don't seem to cause any odd side effects.<br><br>The Maple hardware is completely different unfortunately and the registers are incompatible.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_982913_signature">Due VGA library - http://arduino.cc/forum/index.php/topic,150517.0.html</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg982973"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=153016" title="View the profile of bg94" class="pm_icon">bg94</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=153016"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/default.png" alt="avatar_bg94" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 3</li>
								<li class="custom karma">Karma: 1&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=153016;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_982973" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg982973#msg982973" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #8 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg982973#msg982973" rel="nofollow" title="Reply #8 - Re: Timer Interrupts on Due" class="smalltext">Nov 04, 2012, 10:00 pm</a>
									<span class="smalltext modified" id="modified_982973"></span>
								</h5>
								<div id="msg_982973_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_982973">I understand. Thanks <img src="Timer%20Interrupts%20on%20Due_files/smiley.gif" alt=":)" title="Smiley" class="smiley"></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg984328"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								seavik
							</h4>
							<ul class="user_info">
								<li class="membergroup">Guest</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_984328" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg984328#msg984328" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #9 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg984328#msg984328" rel="nofollow" title="Reply #9 - Re: Timer Interrupts on Due" class="smalltext">Nov 05, 2012, 09:48 pm</a>
									<span class="smalltext modified" id="modified_984328"></span>
								</h5>
								<div id="msg_984328_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_984328">Using this code, you can set a
 timer for any of the ISRs TC0_Handler through TC8_Handler, see table of
 parameters below. It is possible to use the timers without a physically
 mapped pin, such as TC1 channel 0 (TC3_Handler) shown here:<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 446px;"><br>volatile boolean l;<br><br>//TC1 ch 0<br>void TC3_Handler()<br>{<br>&nbsp; &nbsp; &nbsp; &nbsp; TC_GetStatus(TC1, 0);<br>&nbsp; &nbsp; &nbsp; &nbsp; digitalWrite(13, l = !l);<br>}<br><br>void startTimer(Tc *tc, uint32_t channel, IRQn_Type irq, uint32_t frequency) {<br>&nbsp; &nbsp; &nbsp; &nbsp; pmc_set_writeprotect(false);<br>&nbsp; &nbsp; &nbsp; &nbsp; pmc_enable_periph_clk((uint32_t)irq);<br>&nbsp; &nbsp; &nbsp; &nbsp; TC_Configure(tc, channel, TC_CMR_WAVE | TC_CMR_WAVSEL_UP_RC | TC_CMR_TCCLKS_TIMER_CLOCK4);<br>&nbsp; &nbsp; &nbsp; &nbsp; uint32_t rc = VARIANT_MCK/128/frequency; //128 because we selected TIMER_CLOCK4 above<br>&nbsp; &nbsp; &nbsp; &nbsp; TC_SetRA(tc, channel, rc/2); //50% high, 50% low<br>&nbsp; &nbsp; &nbsp; &nbsp; TC_SetRC(tc, channel, rc);<br>&nbsp; &nbsp; &nbsp; &nbsp; TC_Start(tc, channel);<br>&nbsp; &nbsp; &nbsp; &nbsp; tc-&gt;TC_CHANNEL[channel].TC_IER=TC_IER_CPCS;<br>&nbsp; &nbsp; &nbsp; &nbsp; tc-&gt;TC_CHANNEL[channel].TC_IDR=~TC_IER_CPCS;<br>&nbsp; &nbsp; &nbsp; &nbsp; NVIC_EnableIRQ(irq);<br>}<br><br>void setup(){<br>&nbsp; &nbsp; &nbsp; &nbsp; pinMode(13,OUTPUT);<br>&nbsp; &nbsp; &nbsp; &nbsp; startTimer(TC1, 0, TC3_IRQn, 4); //TC1 channel 0, the IRQ for that channel and the desired frequency<br>}<br><br>void loop(){<br>}<br></code></pre><br><br>Here is the table of parameters:<br><br><br><br><br><br><br><br><br><br><br><br><table class="bbc_table"><tbody><tr><td>ISR/IRQ</td><td>TC&nbsp; &nbsp; &nbsp; &nbsp; </td><td>Channel</td><td>Due pins</td></tr><tr><td>TC0</td><td>TC0</td><td>0</td><td>2, 13</td></tr><tr><td>TC1</td><td>TC0</td><td>1</td><td>60, 61</td></tr><tr><td>TC2</td><td>TC0</td><td>2</td><td>58</td></tr><tr><td>TC3</td><td>TC1</td><td>0</td><td>none&nbsp; &lt;- this line in the example above</td></tr><tr><td>TC4</td><td>TC1</td><td>1</td><td>none</td></tr><tr><td>TC5</td><td>TC1</td><td>2</td><td>none</td></tr><tr><td>TC6</td><td>TC2</td><td>0</td><td>4, 5</td></tr><tr><td>TC7</td><td>TC2</td><td>1</td><td>3, 10</td></tr><tr><td>TC8</td><td>TC2</td><td>2</td><td>11, 12</td></tr></tbody></table></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg984517"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=105845" title="View the profile of mantoui" class="pm_icon">mantoui</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=105845"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/mantoui.jpg" alt="avatar_mantoui" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/star.gif" alt="*"></li>
								<li class="postgroup">Full Member</li>
								<li class="postcount">Posts: 127</li>
								<li class="custom karma">Karma: 32&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=105845;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_984517" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg984517#msg984517" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #10 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg984517#msg984517" rel="nofollow" title="Reply #10 - Re: Timer Interrupts on Due" class="smalltext">Nov 05, 2012, 11:40 pm</a>
									<span class="smalltext modified" id="modified_984517"></span>
								</h5>
								<div id="msg_984517_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_984517">Sebastian:<br><br>&nbsp; Well done!&nbsp; thanks</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1002284"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								mnpumar
							</h4>
							<ul class="user_info">
								<li class="membergroup">Guest</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_1002284" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg1002284#msg1002284" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #11 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg1002284#msg1002284" rel="nofollow" title="Reply #11 - Re: Timer Interrupts on Due" class="smalltext">Nov 19, 2012, 06:32 pm</a>
									<span class="smalltext modified" id="modified_1002284"><span class="lastedit">Last Edit</span>: Nov 19, 2012, 06:36 pm by mnpumar&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1002284_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1002284"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=130423.msg984328#msg984328">Quote from: Sebastian Vik on Nov 05, 2012, 09:48 pm</a></div><blockquote class="bbc_standard_quote"><br>Using
 this code, you can set a timer for any of the ISRs TC0_Handler through 
TC8_Handler, see table of parameters below. It is possible to use the 
timers without a physically mapped pin, such as TC1 channel 0 
(TC3_Handler) shown here:<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: 200px;"><br>volatile boolean l;<br><br>//TC1 ch 0<br>void TC3_Handler()<br>{<br> &nbsp; &nbsp; &nbsp; &nbsp;TC_GetStatus(TC1, 0);<br> &nbsp; &nbsp; &nbsp; &nbsp;digitalWrite(13, l = !l);<br>}<br><br>void startTimer(Tc *tc, uint32_t channel, IRQn_Type irq, uint32_t frequency) {<br> &nbsp; &nbsp; &nbsp; &nbsp;pmc_set_writeprotect(false);<br> &nbsp; &nbsp; &nbsp; &nbsp;pmc_enable_periph_clk((uint32_t)irq);<br> &nbsp; &nbsp; &nbsp; &nbsp;TC_Configure(tc, channel, TC_CMR_WAVE | TC_CMR_WAVSEL_UP_RC | TC_CMR_TCCLKS_TIMER_CLOCK4);<br> &nbsp; &nbsp; &nbsp; &nbsp;uint32_t rc = VARIANT_MCK/128/frequency; //128 because we selected TIMER_CLOCK4 above<br> &nbsp; &nbsp; &nbsp; &nbsp;TC_SetRA(tc, channel, rc/2); //50% high, 50% low<br> &nbsp; &nbsp; &nbsp; &nbsp;TC_SetRC(tc, channel, rc);<br> &nbsp; &nbsp; &nbsp; &nbsp;TC_Start(tc, channel);<br> &nbsp; &nbsp; &nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IER=TC_IER_CPCS;<br> &nbsp; &nbsp; &nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IDR=~TC_IER_CPCS;<br> &nbsp; &nbsp; &nbsp; &nbsp;NVIC_EnableIRQ(irq);<br>}<br><br>void setup(){<br> &nbsp; &nbsp; &nbsp; &nbsp;pinMode(13,OUTPUT);<br> &nbsp; &nbsp; &nbsp; &nbsp;startTimer(TC1, 0, TC3_IRQn, 4); //TC1 channel 0, the IRQ for that channel and the desired frequency<br>}<br><br>void loop(){<br>}<br></code></pre><br><br>Here is the table of parameters:<br><br><br><br><br><br><br><br><br><br><br><br><table class="bbc_table"><tbody><tr><td>ISR/IRQ</td><td>TC &nbsp; &nbsp; &nbsp; &nbsp;</td><td>Channel</td><td>Due pins</td></tr><tr><td>TC0</td><td>TC0</td><td>0</td><td>2, 13</td></tr><tr><td>TC1</td><td>TC0</td><td>1</td><td>60, 61</td></tr><tr><td>TC2</td><td>TC0</td><td>2</td><td>58</td></tr><tr><td>TC3</td><td>TC1</td><td>0</td><td>none &nbsp;&lt;- this line in the example above</td></tr><tr><td>TC4</td><td>TC1</td><td>1</td><td>none</td></tr><tr><td>TC5</td><td>TC1</td><td>2</td><td>none</td></tr><tr><td>TC6</td><td>TC2</td><td>0</td><td>4, 5</td></tr><tr><td>TC7</td><td>TC2</td><td>1</td><td>3, 10</td></tr><tr><td>TC8</td><td>TC2</td><td>2</td><td>11, 12</td></tr></tbody></table><br></blockquote><div class="quotefooter"></div><br><br>Noob
 question here, could someone please explain the inputs to the 
startTimer function? What is channel, and how do we use the frequency 
input?&nbsp; Also, what are the pins in the table for?</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1006900"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								Selachii
							</h4>
							<ul class="user_info">
								<li class="membergroup">Guest</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_1006900" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg1006900#msg1006900" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #12 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg1006900#msg1006900" rel="nofollow" title="Reply #12 - Re: Timer Interrupts on Due" class="smalltext">Nov 23, 2012, 02:52 pm</a>
									<span class="smalltext modified" id="modified_1006900"></span>
								</h5>
								<div id="msg_1006900_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1006900">Same question; please explain the inputs to the startTimer function.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1007311"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								Selachii
							</h4>
							<ul class="user_info">
								<li class="membergroup">Guest</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_1007311" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg1007311#msg1007311" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #13 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg1007311#msg1007311" rel="nofollow" title="Reply #13 - Re: Timer Interrupts on Due" class="smalltext">Nov 23, 2012, 11:31 pm</a>
									<span class="smalltext modified" id="modified_1007311"><span class="lastedit">Last Edit</span>: Nov 23, 2012, 11:54 pm by Selachii&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1007311_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1007311">Are there any ready-to-use-libs (like <a href="http://www.arduino.cc/playground/Code/Timer1" class="bbc_link" target="_blank">http://www.arduino.cc/playground/Code/Timer1</a>) for using Hardware Timer on Due?<br><br>Or is there a beginner-friendly How-To (like <a href="http://www.engblaze.com/microcontroller-tutorial-avr-and-arduino-timer-interrupts/" class="bbc_link" target="_blank"> http://www.engblaze.com/microcontroller-tutorial-avr-and-arduino-timer-interrupts/</a>) for the Due?</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1007641"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=37969" title="View the profile of cmaglie" class="pm_icon">cmaglie</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=37969"><img class="avatar" src="Timer%20Interrupts%20on%20Due_files/cmaglie.jpg" alt="avatar_cmaglie" onerror="this.src='//dcw9y8se13llu.cloudfront.net/avatars/default.png';"></a>
								</li>
								<li class="icons"><img src="Timer%20Interrupts%20on%20Due_files/staradmin.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/staradmin.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/staradmin.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/staradmin.gif" alt="*"><img src="Timer%20Interrupts%20on%20Due_files/staradmin.gif" alt="*"></li>
								<li class="membergroup">Forum Administrator</li>
								<li class="postgroup">Sr. Member</li>
								<li class="postcount">Posts: 419</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://bug.st/" title="http://bug.st/" target="_blank" class="new_win"><span class="generic_icons www centericon" title="http://bug.st/"></span></a></li>
									</ol>
								</li>
								<li class="custom karma">Karma: 68&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=37969;f832c6504=239f266e81edd435a664e068e3b95400">[add]</a></li>
								<li class="link-profile"><a href="http://bug.st/">http://bug.st/</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Timer%20Interrupts%20on%20Due_files/xx.png" alt="">
								</div>
								<div id="subject_1007641" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=130423.msg1007641#msg1007641" rel="nofollow">Re: Timer Interrupts on Due</a></div>
								<div class="page_number floatright">
									 #14 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=130423.msg1007641#msg1007641" rel="nofollow" title="Reply #14 - Re: Timer Interrupts on Due" class="smalltext">Nov 24, 2012, 10:04 am</a>
									<span class="smalltext modified" id="modified_1007641"><span class="lastedit">Last Edit</span>: Nov 24, 2012, 10:15 am by cmaglie&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1007641_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1007641"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=130423.msg984328#msg984328">Quote from: Sebastian Vik on Nov 05, 2012, 09:48 pm</a></div><blockquote class="bbc_standard_quote"><br>Here is the table of parameters:<br><br><br><br><br><br><br><br><br><br><br><br><table class="bbc_table"><tbody><tr><td>ISR/IRQ</td><td>TC &nbsp; &nbsp; &nbsp; &nbsp;</td><td>Channel</td><td>Due pins</td></tr><tr><td>TC0</td><td>TC0</td><td>0</td><td>2, 13</td></tr><tr><td>TC1</td><td>TC0</td><td>1</td><td>60, 61</td></tr><tr><td>TC2</td><td>TC0</td><td>2</td><td>58</td></tr><tr><td>TC3</td><td>TC1</td><td>0</td><td>none &nbsp;&lt;- this line in the example above</td></tr><tr><td>TC4</td><td>TC1</td><td>1</td><td>none</td></tr><tr><td>TC5</td><td>TC1</td><td>2</td><td>none</td></tr><tr><td>TC6</td><td>TC2</td><td>0</td><td>4, 5</td></tr><tr><td>TC7</td><td>TC2</td><td>1</td><td>3, 10</td></tr><tr><td>TC8</td><td>TC2</td><td>2</td><td>11, 12</td></tr></tbody></table><br></blockquote><div class="quotefooter"></div><br><br>A brief explanation:<br>The SAM3X8E CPU has 3 Timer Counters (TC) they are called TC0, TC1, TC2.<br>Every Timer Counter contains 3 Channels numbered 0, 1 and 2 (this give us a total of 9 Channels).<br>Every Channel has its own counters and interrupt handler that are independent from other Channels.<br><br>In other words each Channel can be considered as a separate "Timer", and is like having 9 separate timers.<br><br>To initialize a Channel you need the following parameters:<br><br>TC0/TC1/TC2 - The Timer Counter instance<br>0 / 1 / 2 - The Channel number inside Timer Counter<br><br>If you want to use interrupts you must enable the NVIC (Nested Vector Interrupt Controller) for that channel with:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: auto;"><br>NVIC_EnableIRQ(TCx_IRQn);<br></code></pre><br>where
 TCx_IRQn is the ID of the interrupt to enable. These id are listed in 
the following table together with the ISR handler function name:<br><br><br><br><br><br><br><br><br><br><br><br><br><table class="bbc_table"><tbody><tr><td><span class="bbc_bold">TC</span> &nbsp; &nbsp; &nbsp; &nbsp;</td><td><span class="bbc_bold">Chan</span> &nbsp; </td><td><span class="bbc_bold">NVIC "irq"</span> &nbsp; </td><td><span class="bbc_bold">IRQ handler function</span> &nbsp; </td><td><span class="bbc_bold">PMC id</span></td></tr><tr><td>TC0</td><td>0</td><td>TC0_IRQn</td><td>TC0_Handler</td><td>ID_TC0</td></tr><tr><td>TC0</td><td>1</td><td>TC1_IRQn</td><td>TC1_Handler</td><td>ID_TC1</td></tr><tr><td>TC0</td><td>2</td><td>TC2_IRQn</td><td>TC2_Handler</td><td>ID_TC2</td></tr><tr><td>TC1</td><td>0</td><td>TC3_IRQn</td><td>TC3_Handler</td><td>ID_TC3</td></tr><tr><td>TC1</td><td>1</td><td>TC4_IRQn</td><td>TC4_Handler</td><td>ID_TC4</td></tr><tr><td>TC1</td><td>2</td><td>TC5_IRQn</td><td>TC5_Handler</td><td>ID_TC5</td></tr><tr><td>TC2</td><td>0</td><td>TC6_IRQn</td><td>TC6_Handler</td><td>ID_TC6</td></tr><tr><td>TC2</td><td>1</td><td>TC7_IRQn</td><td>TC7_Handler</td><td>ID_TC7</td></tr><tr><td>TC2</td><td>2</td><td>TC8_IRQn</td><td>TC8_Handler</td><td>ID_TC8</td></tr></tbody></table><br><br>(note that TC<span class="bbc_bold">2</span>_IRQn is the irq id for TC0-channel-2 not for TC2...)<br><br>but
 this is still not enough! Every peripheral in the SAM3X is off by 
default (to save power) and should be turned on. To turn on you need to 
run the following command:<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: auto;">pmc_enable_periph_clk(id);</code></pre><br><br>where <span class="bbc_bold">id</span>
 is found on the last column of the above table (ID_TCx). It happened 
that ID_TCx constant equals TCx_IRQn, so Sebastian Vik has simplified a 
bit the function using TCx_IRQn as input for pmc_enable_periph_clk:<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code class="bbc_code" style="max-height: none; height: auto;">pmc_enable_periph_clk((uint32_t)irq);</code></pre><br><br>Hope this helps to decode whats happening with timers inside SAM3X.<br><br><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=130423.msg1007311#msg1007311">Quote from: Selachii on Nov 23, 2012, 11:31 pm</a></div><blockquote class="bbc_standard_quote"><br>Are there any ready-to-use-libs (like <a href="http://www.arduino.cc/playground/Code/Timer1" class="bbc_link" target="_blank">http://www.arduino.cc/playground/Code/Timer1</a>) for using Hardware Timer on Due?<br><br>Or is there a beginner-friendly How-To (like <a href="http://www.engblaze.com/microcontroller-tutorial-avr-and-arduino-timer-interrupts/" class="bbc_link" target="_blank"> http://www.engblaze.com/microcontroller-tutorial-avr-and-arduino-timer-interrupts/</a>) for the Due?<br></blockquote><div class="quotefooter"></div><br><br>Nope, there are no libs neither tutorials. <br><br>I've planned a SAM3Timer library (to simplify implementation of Arduino Core and some libraries) but I didn't started it yet.<br><br>Volunteers? <img src="Timer%20Interrupts%20on%20Due_files/smiley.gif" alt=":)" title="Smiley" class="smiley"><br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1007641_signature">C.</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				</form>
			</div>
			<div class="pagesection">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="http://forum.arduino.cc/index.php?action=printpage;topic=130423.0" rel="nofollow">Print</a>
		</div>
				 <a href="#main_content_section" class="topbottom floatleft" id="bot">Go Up</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.15">2</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.30">3</a> <span class="expand_pages" onclick="expandPages(this, '<a class=&quot;navPages&quot; href=&quot;' + smf_scripturl + '?topic=130423.%1$d&quot;>%2$s</a> ', 45, 135, 15);"> ... </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.135">10</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=130423.15"><span class="next_page"></span></a> 
				</div>
			</div>
			<div id="moderationbuttons">
				
			</div>
			<div id="display_jump_to"><label class="smalltext" for="display_jump_to_select">Jump to:</label> <select name="display_jump_to_select" id="display_jump_to_select" onfocus="grabJumpToContent(this);"><option value="?board=87.0" selected="selected">=&gt; Arduino Due</option></select>&nbsp;<input type="button" class="button_submit" value="Go" onclick="window.location.href = 'http://forum.arduino.cc/index.php?board=87.0';"></div>
			<br class="clear">
				<script><!-- // --><![CDATA[
					var oQuickReply = new QuickReply({
						bDefaultCollapsed: false,
						iTopicId: 130423,
						iStart: 0,
						sScriptUrl: smf_scripturl,
						sImagesUrl: smf_images_url,
						sContainerId: "quickReplyOptions",
						sImageId: "quickReplyExpand",
						sClassCollapsed: "toggle_up",
						sClassExpanded: "toggle_down",
						bIsFull: true
					});
					if ('XMLHttpRequest' in window)
					{
						var oQuickModify = new QuickModify({
							sScriptUrl: smf_scripturl,
							sClassName: 'quick_edit',
							bShowModify: true,
							iTopicId: 130423,
							sTemplateBodyEdit: '\n\t\t\t\t\t\t\t\t<div id="quick_edit_body_container">\n\t\t\t\t\t\t\t\t\t<div id="error_box" class="error"><' + '/div>\n\t\t\t\t\t\t\t\t\t<textarea class="editor" name="message" rows="12" style="width: 100%; margin-bottom: 10px;" tabindex="1">%body%<' + '/textarea><br>\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="f832c6504" value="239f266e81edd435a664e068e3b95400">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="topic" value="130423">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="msg" value="%msg_id%">\n\t\t\t\t\t\t\t\t\t<div class="righttext">\n\t\t\t\t\t\t\t\t\t\t<input type="submit" name="post" value="Save" tabindex="2" onclick="return oQuickModify.modifySave(\'239f266e81edd435a664e068e3b95400\', \'f832c6504\');" accesskey="s" class="button_submit">&nbsp;&nbsp;<input type="submit" name="cancel" value="Cancel" tabindex="3" onclick="return oQuickModify.modifyCancel();" class="button_submit">\n\t\t\t\t\t\t\t\t\t<' + '/div>\n\t\t\t\t\t\t\t\t<' + '/div>',
							sTemplateSubjectEdit: '<input type="text" name="subject" value="%subject%" size="80" maxlength="80" tabindex="4" class="input_text">',
							sTemplateBodyNormal: '%body%',
							sTemplateSubjectNormal: '<a hr'+'ef="' + smf_scripturl + '?topic=130423.msg%msg_id%#msg%msg_id%" rel="nofollow">%subject%<' + '/a>',
							sTemplateTopSubject: 'Topic: %subject% &nbsp;(Read 206130 times)',
							sTemplateReasonEdit: '<input type="text" name="modify_reason" value="%modify_reason%" size="80" maxlength="80" tabindex="5" class="input_text">)',
							sTemplateReasonNormal: '%modify_text',
							sErrorBorderStyle: '1px solid red'
						});

						aJumpTo[aJumpTo.length] = new JumpTo({
							sContainerId: "display_jump_to",
							sJumpToTemplate: "<label class=\"smalltext\" for=\"%select_id%\">Jump to:<" + "/label> %dropdown_list%",
							iCurBoardId: 87,
							iCurBoardChildLevel: 0,
							sCurBoardName: "Arduino Due",
							sBoardChildLevelIndicator: "==",
							sBoardPrefix: "=> ",
							sCatSeparator: "-----------------------------",
							sCatPrefix: "",
							sGoButtonLabel: "Go"
						});

						aIconLists[aIconLists.length] = new IconList({
							sBackReference: "aIconLists[" + aIconLists.length + "]",
							sIconIdPrefix: "msg_icon_",
							sScriptUrl: smf_scripturl,
							bShowModify: true,
							iBoardId: 87,
							iTopicId: 130423,
							sSessionId: smf_session_id,
							sSessionVar: smf_session_var,
							sLabelIconList: "Message icon",
							sBoxBackground: "transparent",
							sBoxBackgroundHover: "#ffffff",
							iBoxBorderWidthHover: 1,
							sBoxBorderColorHover: "#adadad" ,
							sContainerBackground: "#ffffff",
							sContainerBorder: "1px solid #adadad",
							sItemBorder: "1px solid #ffffff",
							sItemBorderHover: "1px dotted gray",
							sItemBackground: "transparent",
							sItemBackgroundHover: "#e0e0f0"
						});
					}
				// ]]></script>
			</div>
		</div>
	</div>
  </div>
</div>
           <br><style>.pagefooter a { color: white !important; }</style>		<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async="" src="Timer%20Interrupts%20on%20Due_files/js"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-22581631-3');
	</script>
    <div>
      <div id="newsletter-modal"><div id="newsletter-popup-privacy" class="arduino-modal info-modal" action="https://api2.arduino.cc/consent/v1/subscription" style="display: none;">
  <!-- Step 1.5, approve the privacy policy -->
  <div id="privacy-modal-backdrop" class="modal-backdrop"></div>
  <div class="modal-body approve-privacy-policy">

    <h1>Privacy consent</h1>

    <div>
      <p>
        Arduino cares about the privacy and personal data of its users. The <a href="http://www.arduino.cc/en/Main/PrivacyPolicy" target="_blank" rel="noopener">privacy policy</a> is meant to inform you on how we process your personal data when you use our services.
      </p>

      <ul class="privacy-settings">
        <li>
          <div id="privacy-consent-error" class="upper-error-notif">Please confirm that you have read the privacy policy</div>
          <label class="checkbox">
            <input type="checkbox" id="privacy-consent" name="privacy-consent" value="privacy_approval">

            <span class="custom-checkbox"></span>
            <span>I confirm to have read the privacy policy<span class="required-asterisk">*</span></span>
          </label>
        </li>
        <li>
          <div id="newsletter-error" class="upper-error-notif">Please confirm your consent to receive the newsletter</div>
          <label class="checkbox">
            <input type="checkbox" id="newsletter-consent" name="newsletter-consent" value="newsletter_approval" checked="checked">

            <span class="custom-checkbox"></span>
            <span>I confirm my consent to receive your newsletter<span class="required-asterisk">*</span></span>
          </label>
        </li>
        <li>
          <label class="checkbox">
            <input type="checkbox" id="marketing-consent" value="marketing_approval">
            <span class="custom-checkbox"></span>
            <span>I confirm my consent to the processing of my personal 
data for marketing purposes, consisting in commercial offers sent via 
email</span>
          </label>
        </li>
        <li>
          <label class="checkbox">
            <input type="checkbox" id="tracking-consent" value="tracking_approval">
            <span class="custom-checkbox"></span>
            <span>I confirm my consent to automated processing of my 
personal data, by means of profiling, in order to receive commercial 
offers customized on the basis of my browsing and purchasing behavior</span>
          </label>
        </li>
      </ul>
      <div class="my-error-notification">
        <div id="newsletterSubscribeStatus"></div>
      </div>
      <section class="buttons-wrapper">
        <button name="Cancel" class="button secondary" id="newsletter-privacy-policy-cancel-button">Cancel</button>
        <button name="Ok" class="primary button" id="newsletter-privacy-policy-ok-button">Ok</button>
      </section>
    </div>
  </div>
</div>

<!-- step 2, confirm popup -->
<div id="newsletter-popup-confirm" class="arduino-modal info-modal" style="display: none;">
     <div class="modal-backdrop"></div>
  <div id="confirm-newsletter-modal-backdrop" class="modal-body confirm-email">
    <h1>Confirm your email address</h1>
    <div id="newsletterModalBody">
      <p>
        We need to confirm your email address.<br> To complete the subscription, please click the link in the email we just sent you.
      </p>
      <p>
        Thank you for subscribing!
      </p>
      <section class="buttons-wrapper">
        <button name="Ok" class="button" id="confirm-email-ok-button">Ok</button>
      </section>
    </div>
  </div>
</div>
</div>
      <div id="footer"><div id="footer-block" style="">
  <div class="newsletter-form">
    <h4 id="newsletter-input-label">Newsletter</h4>
    <div class="subscribe-wrapper">
      <div id="newsletter-email-error" class="upper-error-notif">Please insert a valid email</div>
      <div class="input-wrapper">
        <input id="newsletter-email" aria-labelledby="newsletter-input-label" type="email" name="email" class="email" placeholder="Enter your email to sign up">
        <button id="subscribe-btn" aria-label="Subscribe" class="button">Subscribe</button>
      </div>
    </div>
  </div>
  <section class="footer-links-wrapper">
    <ul id="footer-list">
      <li>
        <a href="http://www.arduino.cc/en/Main/TermsOfService">
          <span class="text">Terms Of Service</span>
        </a>
      </li>
      <li>
        <a href="http://www.arduino.cc/en/Main/PrivacyPolicy">
          <span class="text">Privacy Policy</span>
        </a>
      </li>
      <li>
        <div id="teconsent">
        </div>
      </li>
      <li>
        <a href="http://www.arduino.cc/en/Main/ContactUs">
          <span class="text">Contact Us</span>
        </a>
      </li>
      <li>
        <a href="http://www.arduino.cc/en/Main/AboutUs">
          <span class="text">About Us</span>
        </a>
      </li>
      <li>
        <a href="http://store.arduino.cc/distributors">
          <span class="text">Distributors</span>
        </a>
      </li>
      <li>
        <a href="http://www.arduino.cc/Careers">
          <span class="text">Careers</span>
        </a>
      </li>
      <li>
        <a href="http://www.arduino.cc/en/Main/Security">
          <span class="text">Security</span>
        </a>
      </li>
    </ul><!-- footer-list -->
    <div class="footer-note">
      <p>
        <a href="http://www.arduino.cc/en/Main/CopyrightNotice">
          <span class="text">
            © <span id="current-year">2019</span> Arduino
          </span>
        </a>
      </p>
    </div>
  </section>
  <ul class="social-btn-list">
    <li>
      <a href="https://www.facebook.com/official.arduino" target="_blank" id="facebook" class="facebook" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-facebook.svg" alt="facebook">
        <p class="follow-us">follow us on Facebook</p>
      </a>
    </li>
    <li>
      <a href="https://twitter.com/arduino" target="_blank" id="twitter" class="twitter" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-twitter.svg" alt="twitter">
        <p class="follow-us">follow us on Twitter</p>
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/+Arduino" target="_blank" id="gplus" class="gplus" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-gplus.svg" alt="google plus">
        <p class="follow-us">follow us on Google+</p>
      </a>
    </li>
    <li>
      <a href="https://www.instagram.com/arduino.cc/" target="_blank" id="instagram" class="instagram" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-instagram.svg" alt="instagram">
        <p class="follow-us">follow us on Instagram</p>
      </a>
    </li>
    <li>
      <a href="https://github.com/arduino/" target="_blank" id="github" class="github" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-github.svg" alt="github">
        <p class="follow-us">Arduino on GitHub</p>
      </a>
    </li>
    <li>
      <a href="https://www.flickr.com/photos/arduino_cc" target="_blank" id="flickr" class="flickr" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-flickr.svg" alt="flickr">
        <p class="follow-us">follow us on Flickr</p>
      </a>
    </li>
    <li>
      <a href="https://www.youtube.com/user/arduinoteam" target="_blank" id="youtube" class="youtube" rel="noopener">
        <img src="Timer%20Interrupts%20on%20Due_files/icon-youtube.svg" alt="youtube">
        <p class="follow-us">follow us on YouTube</p>
      </a>
    </li>
  </ul>

  <button id="go-top" class="go-top-footer-btn" aria-label="Scroll Top">
    <span class="arrow-1"></span>
    <span class="arrow-2"></span>
    <span class="arrow-3"></span>
  </button>
</div><!-- footer-block -->
</div>
    </div>
    <script src="Timer%20Interrupts%20on%20Due_files/loader.js" type="text/javascript"></script>
    <script>
      var auth = {
        token: function() {
          return false ? Promise.resolve({
            token: null          }) : Promise.reject('loggedout')
        },
        redirectURI: function() {
          return 'https://auth.arduino.cc/login?client_id=forum&redirect_uri=https%3A%2F%2Fforum.arduino.cc%2F&state=1171194949&scope=profile%3Acore+profile%3Apublic+profile%3Acontact+offline&response_type=code';
        }
      };
      ArduinoHeaderAndFooter({
        auth: "custom",
        authOptions: auth
      });
    </script>
  <div id="ajax_in_progress" style="display: none;">Loading...</div>
<script><!-- // --><![CDATA[
	function triggerCron() {
		var tempImage = new Image();
		tempImage.src = 'http://forum.arduino.cc' + "/cron.php?ts=1551534420";
	}
	window.setTimeout(triggerCron, 1);
// ]]></script>
    <script src="Timer%20Interrupts%20on%20Due_files/modernizr.js"></script>
    <!--[if gte IE 9]><!-->
    <script src="Timer%20Interrupts%20on%20Due_files/foundation.js"></script>
    <script>
      $(document).foundation();
    </script>
    <!--<![endif]-->
    <!--[if IE 8]>
    <script src="//content.arduino.cc/legacy/js/foundation_ie8.min.js"></script>
    <script src="//content.arduino.cc/legacy/js/ie8/jquery.foundation.alerts.js"></script>
    <script src="//content.arduino.cc/legacy/js/app.js"></script>
		<![endif]-->
		<script>
		// Adv banner configuration
		var arduinoAdvOptions = {
			breakpointDesktop: 480,
			breakpointMobile: 480,
			zoneIdDesktop: 561,
			zoneIdTablet: 560,
			zoneIdMobile: 560
		};

		jQuery('.boardindex_table .main_container:nth-child(1)').append('<div id="ad_container_zone" class="adv-banner"></div>');
		jQuery('#forumposts form .windowbg:nth-of-type(1)').after('<div id="ad_container_zone" class="adv-banner"></div>');

		</script>
		<!-- Script used by adv banner -->
		<script type="text/javascript" src="Timer%20Interrupts%20on%20Due_files/postscribe.js"></script>
		<script type="text/javascript" src="Timer%20Interrupts%20on%20Due_files/banner.js"></script>

</body></html>