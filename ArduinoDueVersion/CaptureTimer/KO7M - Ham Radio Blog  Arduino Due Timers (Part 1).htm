<!DOCTYPE html>
<html class="v2" dir="ltr" lang="en"><head>
<link href="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/2727757643-css_bundle_v2.css" rel="stylesheet" type="text/css">
<meta content="width=1100" name="viewport">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="blogger" name="generator">
<link href="http://ko7m.blogspot.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="KO7M - Ham Radio Blog - Atom" href="http://ko7m.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="KO7M - Ham Radio Blog - RSS" href="http://ko7m.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="KO7M - Ham Radio Blog - Atom" href="https://www.blogger.com/feeds/6737713102444501259/posts/default">

<link rel="alternate" type="application/atom+xml" title="KO7M - Ham Radio Blog - Atom" href="http://ko7m.blogspot.com/feeds/444614207665381554/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/864213505-ieretrofit.js"></script>
<![endif]-->
<link href="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/Capture.PNG" rel="image_src">
<meta content="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html" property="og:url">
<meta content="Arduino Due Timers (Part 1)" property="og:title">
<meta content="My next foray into the wild and wonderful world of Arduino Due will be to take a close look at the Due notion of Timers. &nbsp;Tighten up the sea..." property="og:description">
<meta content="http://3.bp.blogspot.com/-KRype12M0S4/VLSyX7f8aNI/AAAAAAAAA-c/dvt7tQLtvdo/w1200-h630-p-k-no-nu/Capture.PNG" property="og:image">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>KO7M - Ham Radio Blog: Arduino Due Timers (Part 1)</title>
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Watermark
Designer: Blogger
URL:      www.blogger.com
----------------------------------------------- */

/* Use this with templates/1ktemplate-*.html */
/* Content
----------------------------------------------- */
body {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffeedd;
background: #441500 url(//www.blogblog.com/1kt/watermark/body_background_navigator.png) repeat scroll top left;
}
html body .content-outer {
min-width: 0;
max-width: 100%;
width: 100%;
}
.content-outer {
font-size: 92%;
}
a:link {
text-decoration:none;
color: #ffcc77;
}
a:visited {
text-decoration:none;
color: #ff8866;
}
a:hover {
text-decoration:underline;
color: #ffeecc;
}
.body-fauxcolumns .cap-top {
margin-top: 30px;
background: transparent url(//www.blogblog.com/1kt/watermark/body_overlay_navigator.png) no-repeat scroll top center;
height: 256px;
}
.content-inner {
padding: 0;
}
/* Header
----------------------------------------------- */
.header-inner .Header .titlewrapper,
.header-inner .Header .descriptionwrapper {
padding-left: 20px;
padding-right: 20px;
}
.Header h1 {
font: normal normal 60px Georgia, Utopia, 'Palatino Linotype', Palatino, serif;
color: #ffffff;
text-shadow: 2px 2px rgba(0, 0, 0, .1);
}
.Header h1 a {
color: #ffffff;
}
.Header .description {
font-size: 140%;
color: #aa9988;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section {
margin: 0 20px;
}
.tabs-inner .PageList, .tabs-inner .LinkList, .tabs-inner .Labels {
margin-left: -11px;
margin-right: -11px;
background-color: transparent;
border-top: 0 solid #ffffff;
border-bottom: 0 solid #ffffff;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .3);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .3);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .3);
box-shadow: 0 0 0 rgba(0, 0, 0, .3);
}
.tabs-inner .PageList .widget-content,
.tabs-inner .LinkList .widget-content,
.tabs-inner .Labels .widget-content {
margin: -3px -11px;
background: transparent none  no-repeat scroll right;
}
.tabs-inner .widget ul {
padding: 2px 25px;
max-height: 34px;
background: transparent none no-repeat scroll left;
}
.tabs-inner .widget li {
border: none;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .25em 1em;
font: normal normal 20px Georgia, Utopia, 'Palatino Linotype', Palatino, serif;
color: #ffcc77;
border-right: 1px solid #776655;
}
.tabs-inner .widget li:first-child a {
border-left: 1px solid #776655;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #ffffff;
}
/* Headings
----------------------------------------------- */
h2 {
font: normal normal 20px Georgia, Utopia, 'Palatino Linotype', Palatino, serif;
color: #ffffff;
margin: 0 0 .5em;
}
h2.date-header {
font: normal normal 16px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #aa9988;
}
/* Main
----------------------------------------------- */
.main-inner .column-center-inner,
.main-inner .column-left-inner,
.main-inner .column-right-inner {
padding: 0 5px;
}
.main-outer {
margin-top: 0;
background: transparent none no-repeat scroll top left;
}
.main-inner {
padding-top: 30px;
}
.main-cap-top {
position: relative;
}
.main-cap-top .cap-right {
position: absolute;
height: 0;
width: 100%;
bottom: 0;
background: transparent none repeat-x scroll bottom center;
}
.main-cap-top .cap-left {
position: absolute;
height: 245px;
width: 280px;
right: 0;
bottom: 0;
background: transparent none no-repeat scroll bottom left;
}
/* Posts
----------------------------------------------- */
.post-outer {
padding: 15px 20px;
margin: 0 0 25px;
background: transparent url(//www.blogblog.com/1kt/watermark/post_background_navigator.png) repeat scroll top left;
_background-image: none;
border: dotted 1px #332211;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
h3.post-title {
font: normal normal 30px Georgia, Utopia, 'Palatino Linotype', Palatino, serif;
margin: 0;
}
.comments h4 {
font: normal normal 30px Georgia, Utopia, 'Palatino Linotype', Palatino, serif;
margin: 1em 0 0;
}
.post-body {
font-size: 105%;
line-height: 1.5;
position: relative;
}
.post-header {
margin: 0 0 1em;
color: #aa9988;
}
.post-footer {
margin: 10px 0 0;
padding: 10px 0 0;
color: #aa9988;
border-top: dashed 1px #998877;
}
#blog-pager {
font-size: 140%
}
#comments .comment-author {
padding-top: 1.5em;
border-top: dashed 1px #998877;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #998877;
border-bottom: 1px solid #998877;
}
.comments .continue {
border-top: 2px solid #998877;
}
/* Widgets
----------------------------------------------- */
.widget ul, .widget #ArchiveList ul.flat {
padding: 0;
list-style: none;
}
.widget ul li, .widget #ArchiveList ul.flat li {
padding: .35em 0;
text-indent: 0;
border-top: dashed 1px #998877;
}
.widget ul li:first-child, .widget #ArchiveList ul.flat li:first-child {
border-top: none;
}
.widget .post-body ul {
list-style: disc;
}
.widget .post-body ul li {
border: none;
}
.widget .zippy {
color: #998877;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 5px;
background: #fff;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .5);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .5);
-goog-ms-box-shadow: 1px 1px 5px rgba(0, 0, 0, .5);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .5);
}
.post-body img, .post-body .tr-caption-container {
padding: 8px;
}
.post-body .tr-caption-container {
color: #333333;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-goog-ms-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
/* Footer
----------------------------------------------- */
.footer-outer {
color:#ffeedd;
background: #110000 url(https://resources.blogblog.com/blogblog/data/1kt/watermark/body_background_navigator.png) repeat scroll top left;
}
.footer-outer a {
color: #ffcc77;
}
.footer-outer a:visited {
color: #ff8866;
}
.footer-outer a:hover {
color: #ffeecc;
}
.footer-outer .widget h2 {
color: #ffffff;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: 100% auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
html .mobile .mobile-date-outer {
border-bottom: none;
background: transparent url(//www.blogblog.com/1kt/watermark/post_background_navigator.png) repeat scroll top left;
_background-image: none;
margin-bottom: 10px;
}
.mobile .main-inner .date-outer {
padding: 0;
}
.mobile .main-inner .date-header {
margin: 10px;
}
.mobile .main-cap-top {
z-index: -1;
}
.mobile .content-outer {
font-size: 100%;
}
.mobile .post-outer {
padding: 10px;
}
.mobile .main-cap-top .cap-left {
background: transparent none no-repeat scroll bottom left;
}
.mobile .body-fauxcolumns .cap-top {
margin: 0;
}
.mobile-link-button {
background: transparent url(//www.blogblog.com/1kt/watermark/post_background_navigator.png) repeat scroll top left;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffcc77;
}
.mobile-index-date .date-header {
color: #aa9988;
}
.mobile-index-contents {
color: #ffeedd;
}
.mobile .tabs-inner .section {
margin: 0;
}
.mobile .tabs-inner .PageList {
margin-left: 0;
margin-right: 0;
}
.mobile .tabs-inner .PageList .widget-content {
margin: 0;
color: #ffffff;
background: transparent url(//www.blogblog.com/1kt/watermark/post_background_navigator.png) repeat scroll top left;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #776655;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 860px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 860px;
max-width: 860px;
_width: 860px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 260px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 260px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("260px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 260px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 260px;
margin-right: -260px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
body#layout div.add_widget {
padding: 8px;
}
body#layout div.add_widget a {
margin-left: 32px;
}
--></style>
<link href="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/authorization.css" media="none" onload="if(media!='all')media='all'" rel="stylesheet"><span><link href="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/authorization.css" rel="stylesheet"></span>

<script type="text/javascript" language="javascript">
  // Supply ads personalization default for EEA readers
  // See https://www.blogger.com/go/adspersonalization
  adsbygoogle = window.adsbygoogle || [];
  if (typeof adsbygoogle.requestNonPersonalizedAds === 'undefined') {
    adsbygoogle.requestNonPersonalizedAds = 1;
  }
</script>


</head>
<body class="loading variant-navigator">
<div class="navbar section" id="navbar" name="Navbar"><div class="widget Navbar" data-version="1" id="Navbar1"><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/plusone.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d6737713102444501259\x26blogName\x3dKO7M+-+Ham+Radio+Blog\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dLIGHT\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttps://ko7m.blogspot.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://ko7m.blogspot.com/\x26targetPostID\x3d444614207665381554\x26blogPostOrPageUrl\x3dhttp://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html\x26vt\x3d8679834725873634491',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header" name="Header"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="http://ko7m.blogspot.com/">
KO7M - Ham Radio Blog
</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>The ramblings of one home-brew electronics, firmware engineer and pilot.</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs no-items section" id="crosscol" name="Cross-Column"></div>
<div class="tabs no-items section" id="crosscol-overflow" name="Cross-Column 2"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main" name="Main"><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>Wednesday, January 14, 2015</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="http://3.bp.blogspot.com/-KRype12M0S4/VLSyX7f8aNI/AAAAAAAAA-c/dvt7tQLtvdo/s1600/Capture.PNG" itemprop="image_url">
<meta content="6737713102444501259" itemprop="blogId">
<meta content="444614207665381554" itemprop="postId">
<a name="444614207665381554"></a>
<h3 class="post-title entry-title" itemprop="name">
Arduino Due Timers (Part 1)
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-444614207665381554" itemprop="description articleBody">
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">My 
next foray into the wild and wonderful world of Arduino Due will be to 
take a close look at the Due notion of Timers. &nbsp;Tighten up the seat
 belt as this world gets deep in a hurry. &nbsp;I will endeavour to keep
 things as simple and practical as I can.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The 
Arduino Due Timers or Counter Timer (TC) as they are called are a bit 
different implementation from the 8 bit Arduino devices. &nbsp;There is a
 lot of functionality in the Due &nbsp;Timer Counter module and it is 
not a simple thing to describe it fully so I will likely break this into
 several postings.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The 
SAM3X8E CPU has 3 Timer Counters (TCs) named TC0, TC1, TC2. &nbsp;Each 
TC includes three identical 32-bit channels. &nbsp;Each channel can be 
independently programmed to perform a wide range of functions including 
frequency measurement, event counting, interval measurement, pulse 
generation, delay timing&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">and pulse width modulation (PWM).</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Each channel has three <i>external </i>clock inputs, five <i>internal </i>clock inputs and two multi-purpose&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">input/output signals which can be configured by the user. &nbsp;Each channel drives an internal interrupt&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">signal which can be programmed to generate processor interrupts.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The TC embeds quadrature decoder logic connected in front of the 3 timers&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">and driven by TIOA0, TIOB0 and TIOA1 inputs. When enabled, the quadrature decoder performs&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">input line filtering and decoding of quadrature signals. &nbsp;We will not be covering this feature in these postings.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The TC block has two global registers which act upon all three TC channels.&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The Block Control Register allows the three channels to be started simultaneously with the same&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">instruction. &nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The Block Mode Register defines the external clock inputs for each channel, allowing them to be&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">chained.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Clocks are assigned to Timer Counters as follows:</span><br>
<ul>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIMER_CLOCK1</b> - MCK/2</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIMER_CLOCK2 </b>- MCK/8</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIMER_CLOCK3</b> - MCK/32</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIMER_CLOCK4</b> - MCK/128</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIMER_CLOCK5</b> - SLCK</span></li>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">
MCK is the master clock (84 MHz) and SLCK is the slow clock (32 kHz). 
&nbsp;It should be noted that it is possible to select the slow clock as
 the master clock, which case TIMER_CLOCK5 input is equivalent to the 
master clock. &nbsp;As will be seen later, TCs can be chained together 
using the TIOA0, TIOA1, TIOA2 as an external clock input for subsequent 
TCs allowing further division of the clock frequency. &nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">&nbsp;I may get into clock chaining in further detail in a separate post.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">This rather daunting image is the Timer Counter block diagramme. &nbsp;It is not as bad as it looks.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-KRype12M0S4/VLSyX7f8aNI/AAAAAAAAA-c/dvt7tQLtvdo/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/Capture.PNG" width="400" height="323" border="0"></a></div>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Channel signals seen above are as follows:</span><br>
<br>
<ul>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>XC0, XC1, XC2</b> - External Clock Inputs</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIOA &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b>- </span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Capture Mode: TC Input,&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Waveform Mode: TC Output</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>TIOB &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b>- </span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Capture Mode: TC Input,&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Waveform Mode: TC I/O</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>INT &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b>- Interrupt Signal Output</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>SYNC &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</b>- Synchronization Input Signal</span></li>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<ul>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The three channels of TC are identical in operation except when Quadrature decoder is enabled.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Each channel is organized around a separate 32-bit counter. The value of the counter is incremented at&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">each positive edge of the selected clock. When the counter has reached the value 0xFFFFFFFF and&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">wraps around to 0x00000000, an overflow occurs and the COVFS bit in TC_SR (Status Register) is set. &nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The current value of the counter is accessible anytime by reading the Counter Value Register,&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">TC_CV. The counter can also be reset by a trigger. In this case, the counter value resets to&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">0x00000000 on the next valid edge of the selected clock following the trigger event.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">At the block level, input clock signals of each channel can either be connected to the external inputs&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">TCLK0, TCLK1 or TCLK2, or be connected to the internal I/O signals TIOA0, TIOA1 or TIOA2&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">for chaining by programming the TC_BMR (Block Mode) register.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Each 
channel can independently select an internal or external clock source 
for its counter via the TCCLKS bits in the TC Channel Mode register 
(TC_CMR).</span><br>
<br>
<ul>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>Internal clock signals:</b> TIMER_CLOCK1, TIMER_CLOCK2, TIMER_CLOCK3,</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">TIMER_CLOCK4, TIMER_CLOCK5</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><b>External clock signals:</b> XC0, XC1 or XC2</span></li>
</ul>
<br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The selected clock can be inverted using the CLKI bit in TC_CMR. This allows counting on the&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">opposite edges of the clock. &nbsp;There is a&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">burst function which allows the clock to be validated when an external signal is high. The BURST&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">parameter in the Mode Register defines this signal (none, XC0, XC1, XC2).</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Note that in all cases, if an external clock is used, the duration of each of its levels must be longer than the&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">master clock period and the external clock frequency must be at least 2.5 times lower than the master&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">clock.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Here is a block diagramme of the clock selection logic:</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-OV925ddtqko/VLS78gJ1tFI/AAAAAAAAA-s/O3sAkiV8fBs/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/Capture_004.PNG" width="400" height="345" border="0"></a></div>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br>We
 still have not covered clock control, operating modes, or triggers, but
 we will touch on these topics as we work through examples.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Ok, 
enough background about Due timers for now and on to the first practical
 example. &nbsp;In this example we will define a function that allows 
the configuration of a TC to generate a square wave at a relatively low 
frequency of the caller's choice.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Firstly,
 let's think about clocking our timer. &nbsp;We have a system clock 
speed of 84 Mhz that can be divided by 4 different divisors (2, 8, 32 
and 128) and the slow clock. &nbsp;So, the available timer clock speeds 
are:</span><br>
<br>
<ul>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">42&nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">MHz</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">10.5 MHz</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">2.652 MHz</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">656.25 kHz</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">32 kHz</span></li>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<ul>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">As previously mentioned, TCs can be chained to obtain other clock speeds, but that topic is beyond the scope of this posting.</span><br>
<div>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">To start up a timer, we need to deal with at least 4 different bits of information when doing simple operations with TCs.</span><br>
<br>
<ul>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The Timer Counter (TC) you wish to use</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The channel in that TC you with to use</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The IRQ if interrupts are used</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The frequency of the timer</span></li>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<ul>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">The 
following table is useful when performing TC configuration as it shows 
the relationship between the TC, it's channels, the IRQ to use, what the
 IRQ function must be called and the power management ID for that 
peripheral. &nbsp;Looking at the first TC in the list (TC0) we can see 
that it has three channels (0, 1, 2). &nbsp;The Nested Interrupt 
controller IRQ value is TC0_IRQn, TC1_IRQn and TC2_IRQn respectively. 
&nbsp;When using interrupts, the IRQ handler function that is called is 
named TC0_Handler, TC1_Handler and TC2_Handler respectively. &nbsp;The 
power management controller ID lastly are ID_TC0, ID_TC1 and ID_TC2 
respectively. &nbsp;The remaining TCs follow the same pattern.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-iWLd1ayv80U/VLWonRe3DiI/AAAAAAAAA_o/8tcyU9AMSZQ/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/Capture_003.PNG" width="400" height="257" border="0"></a></div>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br>So,
 we will create a function to encapsulate all this to get a simple timer
 running. &nbsp;The timer will generate a square wave at the specified 
frequency.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">There is a bit of housekeeping that needs to occur. &nbsp;</span><br>
<br>
<ul>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">We need to enable the ability to modify the power management controller's registers.</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">We need to enable a specific peripheral clock specified by the IRQ.</span></li>
<li><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">We need to set the TC configuration.</span></li>
</ul>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<br>
<ul>
</ul>
<div>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Power 
Management Controller calls look like this. &nbsp;We need to turn off 
write protection and then enable the peripheral clock for TC1 Channel 0.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;pmc_set_writeprotect(false);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;pmc_enable_periph_clk(ID_TC3);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;"><br></span></span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">You
 could also use TC3_IRQn rather than ID_TC3 as they are both different 
names for the same constant value. &nbsp;It is more clear to use the 
correct constant name, but as we will see shortly, it does simplify the 
implementation if we don't.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">TC_Configure
 is used to configure a TC to operate in a given mode. &nbsp;The timer 
is stopped after configuration and must be restarted with TC_Start(). 
&nbsp;All interrupts of the timer are also disabled.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">We 
will select Waveform Mode and instruct the TC to count up with a reset 
on register C (RC) compare. &nbsp;The following graphic depicts this 
mode, though it seems to imply the maximum counter value is 0xffff which
 is not true. &nbsp;With 32 bits, the maximum counter value would be 
0xffffffff.</span></div>
<div>
<br></div>
<div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-tSaPplLJUaQ/VLX_gLpu8vI/AAAAAAAAA_4/fjrz76Xsf6Q/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/Capture_002.PNG" width="400" height="335" border="0"></a></div>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">TC configuration is accomplished with the following code. &nbsp;</span><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">We
 will use Timer Clock 4 (master clock / 128 &nbsp;= 656.25 kHz) as for 
this example we will be generating low frequency waveforms. &nbsp;The 
function takes the TC and Channel as the first two parameters. &nbsp;The
 last parameter sets bits to indicate the fact we are in Waveform mode, 
only counting up to the maximum value specified in Register C (RC) and 
which of the 5 clocks we will use.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_Configure(tc, channel, TC_CMR_WAVE | TC_CMR_WAVSEL_UP_RC |</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp;TC_CMR_TCCLKS_TIMER_CLOCK4);</span></span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Now we
 need to set Register A (RA) to be the clock count where our output 
(TIOA) goes high and Register C (RC) at the clock count where our output
 goes low. &nbsp;See the graphic above. &nbsp;We chose points that would
 generate a symmetrical 50% duty cycle square wave. &nbsp;Register C is 
set to the maximum count &nbsp;specified by the clock frequency divided 
by the desired frequency.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;uint32_t rc = VARIANT_MCK / 128 / freq;</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_SetRA(tc, channel, rc / 2); // 50% duty cycle</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_SetRC(tc, channel, rc);</span></span></div>
<br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Now we
 enable the Register C (RC) compare interrupt. &nbsp;This bit is a 
little strange, because we have both an interrupt enable register and an
 interrupt disable register. &nbsp;I suspect this is so that a complete 
set of interrupts that you might need can be set in the interrupt enable
 list and sub-sets turned off by modifying the list of disabled 
interrupts. &nbsp;This way you don't have to remember which ones were 
enabled previously. &nbsp;This code enables only the RC compare 
interrupt and disables everything except RC compare interrupt, or so I 
believe.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IER = &nbsp;TC_IER_CPCS;</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IDR = ~TC_IER_CPCS;</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;"><br></span></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><span style="line-height: 17.0807189941406px; white-space: nowrap;">Start the timer running again.</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;"><br></span></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace; font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_Start(tc, channel);</span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace; font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">And tell the Nested Interrupt Controller to enable our IRQ.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace; font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;NVIC_EnableIRQ(irq);</span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace; font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;"><br></span>
<span style="line-height: 17.0807189941406px; white-space: nowrap;"><span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Simple, eh? &nbsp;Yeah... &nbsp;Nothing to it... &nbsp;Here is the entire function:</span></span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace; font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">void TimerStart(Tc *tc, uint32_t channel, IRQn_Type irq, uint32_t freq)</span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">{</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;pmc_set_writeprotect(false);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;pmc_enable_periph_clk((uint32_t) irq);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_Configure(tc, channel, TC_CMR_WAVE | TC_CMR_WAVSEL_UP_RC |</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp;TC_CMR_TCCLKS_TIMER_CLOCK4);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;uint32_t rc = VARIANT_MCK / 128 / freq;</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_SetRA(tc, channel, rc/2); // 50% duty cycle square wave</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_SetRC(tc, channel, rc);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;TC_Start(tc, channel);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IER=TC_IER_CPCS;</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IDR=~TC_IER_CPCS;</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">&nbsp; &nbsp;NVIC_EnableIRQ(irq);</span></span><br>
<span style="font-family: &quot;dejavu sans mono&quot; , &quot;monaco&quot; , &quot;consolas&quot; , monospace;"><span style="font-size: 12px; line-height: 17.0807189941406px; white-space: nowrap;">}</span></span><br>
<br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Whew... &nbsp;Still with me? &nbsp;Ok!</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Now we
 will implement an ISR handler that just toggles the LED on digital pin 
13 on and off every time the timer fires an interrupt. &nbsp;It also has
 to read the status of the Timer Counter (TC) in order to allow the next
 interrupt.</span><br>
<br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">volatile boolean ledOn;</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">void TC3_Handler()</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">{</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;TC_GetStatus(TC1, 0);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;digitalWrite(13, ledOn = !ledOn);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">}</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">Ok, so
 given that we are only interrupting when Register C compare match 
occurs (see graphic above), and we are toggling pin 13 on every 
interrupt, we effectively divide the frequency that the led blinks at by
 two. &nbsp;If we want the frequency of the led blinking to match the 
frequency of the timer, we will need to interrupt on Register A compare 
match as well. &nbsp;The code changes to implement this would be to just
 enable the interrupt on RA compare as well as RC compare.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IER= &nbsp;TC_IER_CPCS | TC_IER_CPAS;</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IDR=~(TC_IER_CPCS | TC_IER_CPAS);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">So, 
the only thing remaining is to implement the setup function and stand 
back... &nbsp;We set the LED pin to output and initialize timer TC1, 
channel 0 using the IRQ TC3_IRQn (from the table above) with a frequency
 of 1 Hz.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">void setup()</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">{</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; pinMode(13, OUTPUT);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; TimerStart(TC1, 0, TC3_IRQn, 1);</span><br>
<br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">}</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">So all
 of this is to blink a freaking LED at a 1 Hz rate. &nbsp;Amazing 
flexibility (and the associated complexity) comes at the bit of a steep 
learning curve. &nbsp;Here is the complete listing for your reference.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">volatile boolean ledOn;</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">//TC1 ch 0</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">void TC3_Handler()</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">{</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;TC_GetStatus(TC1, 0);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;digitalWrite(13, ledOn = !ledOn);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">}</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">void TimerStart(Tc *tc, uint32_t channel, IRQn_Type irq, uint32_t freq)</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">{</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;pmc_set_writeprotect(false);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;pmc_enable_periph_clk(irq);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;TC_Configure(tc, channel, TC_CMR_WAVE | TC_CMR_WAVSEL_UP_RC |</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp;TC_CMR_TCCLKS_TIMER_CLOCK4);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;uint32_t rc = VARIANT_MCK / 128 / freq;</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;TC_SetRA(tc, channel, rc &gt;&gt; 1); // 50% duty cycle square wave</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;TC_SetRC(tc, channel, rc);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;TC_Start(tc, channel);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IER= &nbsp;TC_IER_CPCS | TC_IER_CPAS;</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;tc-&gt;TC_CHANNEL[channel].TC_IDR=~(TC_IER_CPCS | TC_IER_CPAS);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; &nbsp;NVIC_EnableIRQ(irq);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">}</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">void setup()</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">{</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; pinMode(13, OUTPUT);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&nbsp; TimerStart(TC1, 0, TC3_IRQn, 1);</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">}</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;"><br></span>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">void loop()</span><br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">{</span><br>
<br>
<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">}</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;">More 
to come, but have fun with this if you are so inclined. &nbsp;I am 
always willing to help out if you have questions. &nbsp;Drop me a note 
at ko7m at arrl dot net or comment here and I will do my best.</span><br>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"><br></span>
<span style="font-family: &quot;trebuchet ms&quot; , sans-serif;"></span></div>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Posted by
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="https://plus.google.com/103308733269723868296" itemprop="url">
<a class="g-profile" href="https://plus.google.com/103308733269723868296" rel="author" title="author profile">
<span itemprop="name">Jeff Whitlatch</span>
</a>
</span>
</span>
<span class="post-timestamp">
at
<meta content="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html" itemprop="url">
<a class="timestamp-link" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2015-01-14T16:46:00-08:00">16:46</abbr></a>
</span>
<span class="reaction-buttons">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-1002897306">
<a href="https://www.blogger.com/post-edit.g?blogID=6737713102444501259&amp;postID=444614207665381554&amp;from=pencil" title="Edit Post">
<img alt="" class="icon-action" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_edit_allbkg.gif" width="18" height="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=6737713102444501259&amp;postID=444614207665381554&amp;target=email" target="_blank" title="Email This"><span class="share-button-link-text">Email This</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=6737713102444501259&amp;postID=444614207665381554&amp;target=blog" onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=6737713102444501259&amp;postID=444614207665381554&amp;target=twitter" target="_blank" title="Share to Twitter"><span class="share-button-link-text">Share to Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=6737713102444501259&amp;postID=444614207665381554&amp;target=facebook" onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target="_blank" title="Share to Facebook"><span class="share-button-link-text">Share to Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=6737713102444501259&amp;postID=444614207665381554&amp;target=pinterest" target="_blank" title="Share to Pinterest"><span class="share-button-link-text">Share to Pinterest</span></a>
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
Labels:
<a href="http://ko7m.blogspot.com/search/label/Arduino" rel="tag">Arduino</a>,
<a href="http://ko7m.blogspot.com/search/label/Due" rel="tag">Due</a>,
<a href="http://ko7m.blogspot.com/search/label/SAM3X8E" rel="tag">SAM3X8E</a>,
<a href="http://ko7m.blogspot.com/search/label/TC" rel="tag">TC</a>,
<a href="http://ko7m.blogspot.com/search/label/Timers" rel="tag">Timers</a>
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>42 comments:</h4>
<div class="comments-content">
<script async="async" src="" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = null;
      var msgs = null;
      var config = {};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        var text = (entry &&
                    ((entry.content && entry.content.$t) ||
                     (entry.summary && entry.summary.$t))) ||
            '';
        if (entry && entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + text + '</span>';
            }
          }
        }
        return text;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
<div id="comment-holder">
<div class="comment-thread toplevel-thread"><ol id="top-ra"><li class="comment" id="c7126309249330855676"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/blank.gif" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user">Anonymous</cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1421984472262#c7126309249330855676">22 January, 2015 19:41</a></span></div><p class="comment-content">Do
 you know how to use the TIOA waveform directly without any interrupts 
or anyway to get the timer compare to operate at a waveform over 1 MHz.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7126309249330855676">Reply</a><span class="item-control blog-admin blog-admin pid-1683635057"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=7126309249330855676">Delete</a></span></span></div><div class="comment-replies"><div id="c7126309249330855676-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7126309249330855676-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c7291787146160816377"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1422894586497#c7291787146160816377">02 February, 2015 08:29</a></span></div><p class="comment-content">Hello Andross,<br><br>If
 you wish to use the TIOAx output directly instead of handling in 
interrupt, you would need to tell the PIO controller of the uC to 
connect the hardware pins to the corresponding peripheral.  If you want 
to route the TIOAx pin to the outside, you would need to set up the PIO 
something like this:<br><br>int ulPin = 2; // Timer0 in this case<br>PIO_Configure(g_APinDescription[ulPin].pPort,<br>    g_APinDescription[ulPin].ulPinType,<br>    g_APinDescription[ulPin].ulPin,<br>    g_APinDescription[ulPin].ulPinConfiguration);<br>    <br><br>I found this code fragment in wiring_analog.c in the Arduino 1.5.x branch.  <br><br>https://github.com/arduino/Arduino/blob/ide-1.5.x/hardware/arduino/sam/cores/arduino/wiring_analog.c#L329<br><br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=7291787146160816377">Delete</a></span></span></div><div class="comment-replies"><div id="c7291787146160816377-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7291787146160816377-ra" class="thread-chrome thread-expanded"><div></div><div id="c7291787146160816377-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7291787146160816377">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7291787146160816377-ce"></div></li></div><div id="c7126309249330855676-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7126309249330855676">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7126309249330855676-ce"></div></li><li class="comment" id="c5769912066948617710"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/15711246400408343032" rel="nofollow">Osqui</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1439039378001#c5769912066948617710">08 August, 2015 06:09</a></span></div><p class="comment-content">What do you think about the usefulness/capability of this library?<br>https://github.com/ivanseidel/DueTimer</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5769912066948617710">Reply</a><span class="item-control blog-admin blog-admin pid-257743752"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=5769912066948617710">Delete</a></span></span></div><div class="comment-replies"><div id="c5769912066948617710-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c5769912066948617710-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c2633554717157562339"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1439187708066#c2633554717157562339">09 August, 2015 23:21</a></span></div><p class="comment-content">Hello
 Osqui.  I took a quick look at your library.  I think it is quite 
useful as is, but I would probably do things a little differently.  For 
one thing, I would certainly not instantiate 9 timers automatically as a
 result of using this library.<br><br>The examples I think could also be
 improved to include more than basic timer interrupt on a periodic basis
 kinds of examples.  Perhaps other examples would be useful, such as 
measurment of frequency or period, arbitrary waveform generation or 
quadrature decoding.<br><br>That said, I think it is a very good effort and useful in its own right.  Nice work.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=2633554717157562339">Delete</a></span></span></div><div class="comment-replies"><div id="c2633554717157562339-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2633554717157562339-ra" class="thread-chrome thread-expanded"><div></div><div id="c2633554717157562339-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2633554717157562339">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2633554717157562339-ce"></div></li><li class="comment" id="c7570897597316980747"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/15711246400408343032" rel="nofollow">Osqui</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1439224760782#c7570897597316980747">10 August, 2015 09:39</a></span></div><p class="comment-content">Thanks a lot for your time and your advices!!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-257743752"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=7570897597316980747">Delete</a></span></span></div><div class="comment-replies"><div id="c7570897597316980747-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7570897597316980747-ra" class="thread-chrome thread-expanded"><div></div><div id="c7570897597316980747-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7570897597316980747">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7570897597316980747-ce"></div></li></div><div id="c5769912066948617710-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5769912066948617710">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c5769912066948617710-ce"></div></li><li class="comment" id="c4872355413376195555"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01009926283503415262" rel="nofollow">Julius</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1441638918638#c4872355413376195555">07 September, 2015 08:15</a></span></div><p class="comment-content">Hi,
 I am trying to find the source code of these functions you are using in
 this tutorial, like TC_GetStatus(TC1, 0) for example. Where are they 
located? I'm trying to find out if there is a method that can let me 
know when the timer signal switches from low to high and high to low,how
 would I do that?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4872355413376195555">Reply</a><span class="item-control blog-admin blog-admin pid-1932340356"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=4872355413376195555">Delete</a></span></span></div><div class="comment-replies"><div id="c4872355413376195555-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c4872355413376195555-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1036998525139819641"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1441862228843#c1036998525139819641">09 September, 2015 22:17</a></span></div><p class="comment-content">To
 the best of my knowledge, the source code has not been provided for 
much of the SAM code base including the TC_GetStatus component you ask 
about.  Looking at a map file of a project that calls this function, I 
see the following:<br><br> .text.TC_GetStatus<br>     0x0008077c        
0x8 
C:\Users\Jeff\AppData\Roaming\Arduino15\packages\arduino\hardware\sam\1.6.3\variants\arduino_due_x/libsam_sam3x8e_gcc_rel.a(tc.o)<br>     0x0008077c                TC_GetStatus<br><br>So, it looks like this is supplied as a library rather than in source format.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=1036998525139819641">Delete</a></span></span></div><div class="comment-replies"><div id="c1036998525139819641-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c1036998525139819641-ra" class="thread-chrome thread-expanded"><div></div><div id="c1036998525139819641-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1036998525139819641">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c1036998525139819641-ce"></div></li></div><div id="c4872355413376195555-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4872355413376195555">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c4872355413376195555-ce"></div></li><li class="comment" id="c1906926113651963029"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/15214775423953680592" rel="nofollow">Manjot kaur</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1442656567878#c1906926113651963029">19 September, 2015 02:56</a></span></div><p class="comment-content">This comment has been removed by a blog administrator.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="1906926113651963029">Reply</a><span class="item-control blog-admin blog-admin "><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=1906926113651963029">Delete</a></span></span></div><div class="comment-replies"><div id="c1906926113651963029-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c1906926113651963029-ra" class="thread-chrome thread-expanded"><div></div><div id="c1906926113651963029-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1906926113651963029">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c1906926113651963029-ce"></div></li><li class="comment" id="c2344609554356131244"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1451759670067#c2344609554356131244">02 January, 2016 10:34</a></span></div><p class="comment-content">Hi
 Jeff, I am very interested to see you are into the DUE timers. Here is 
my use case, I would be interested to hear your opinion on what I am 
trying to do. The DueTimer library does not include the functionality I 
need, so I am planning on extending it... I am still a newbie on the 
Arduino stuff ...<br><br>I have a u-blox GPS receiver and I want to know the time as accurately as possible on the arrival of a cosmic ray trigger pulse.<br><br>I
 want to run a timer using the MCLK/2 (84 MHz / 2) internal clock, and 
to reset this counter to zero each second via an external input coming 
from the PPS (Pulse Per Second) of the u-blox. The external trigger from
 the analogue electronics board can be configured to latch the SAM3X 
counters 32bit value into REGA to be read later in the arduino interrupt
 handler. <br>This means that no interrogation over the u-blox serial 
line is needed to know within 2 ticks of the counter clock when the 
event occurred &lt;100ns. It also means the Raspberry PI can take its 
time to read the latched counter value.<br><br>So with this scheme I would be able to time stamp my events by counting in MCLK/2 clock from the GPS PPS.<br><br>What do you think ?</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2344609554356131244">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=2344609554356131244">Delete</a></span></span></div><div class="comment-replies"><div id="c2344609554356131244-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2344609554356131244-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c1348992659664437342"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1452480495393#c1348992659664437342">10 January, 2016 18:48</a></span></div><p class="comment-content">Here is some working code for time stamping events, in my case cosmic rays. <br>The D2 pin is connected to my GPS PPS timing signal (PS I strongly recommend using a pull down resistor to eliminate noise). <br>The
 D5 pin is connected to toe OR of the PPS and the event you want to time
 stamp. (Use a diode to isolate D2 PPS from D5 PPS). It turns out that 
when TC0 and TC2 both get the PPS at the same time, then TC0 always gets
 it first !<br>You can get my implementation here ...<br>https://www.dropbox.com/s/3swor6wx3088qqo/event_tag.ino?dl=0<br><br>Enjoy<br></p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=1348992659664437342">Delete</a></span></span></div><div class="comment-replies"><div id="c1348992659664437342-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c1348992659664437342-ra" class="thread-chrome thread-expanded"><div></div><div id="c1348992659664437342-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1348992659664437342">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c1348992659664437342-ce"></div></li><li class="comment" id="c3143254085661946385"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1453271977766#c3143254085661946385">19 January, 2016 22:39</a></span></div><p class="comment-content">Hi
 Julian!  Sorry to be slow in responding as I have been dealing with my 
wife's broken and dislocated arm from a fall on New Years Day.  
Bummers...  Anyway, I like your idea about how to time stamp events.  
Very clever idea.  I apppreciate you sharing your implementation and 
will be sure and check it out.  Congratulations on getting it working.  
Are you able to share why you want to timestamp cosmic rays?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3143254085661946385">Delete</a></span></span></div><div class="comment-replies"><div id="c3143254085661946385-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3143254085661946385-ra" class="thread-chrome thread-expanded"><div></div><div id="c3143254085661946385-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3143254085661946385">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3143254085661946385-ce"></div></li><li class="comment" id="c6363917409780109408"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17167313077547306434" rel="nofollow">Andrew</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1496942871641#c6363917409780109408">08 June, 2017 10:27</a></span></div><p class="comment-content">Hi
 Julian, I was looking for your code example, I want to be able to 
detect the time of arrival of a data packet accurately referenced to GPS
 time. Is you code still available?</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1085810259"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6363917409780109408">Delete</a></span></span></div><div class="comment-replies"><div id="c6363917409780109408-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6363917409780109408-ra" class="thread-chrome thread-expanded"><div></div><div id="c6363917409780109408-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6363917409780109408">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6363917409780109408-ce"></div></li></div><div id="c2344609554356131244-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2344609554356131244">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2344609554356131244-ce"></div></li><li class="comment" id="c4381968230572250174"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1453382661217#c4381968230572250174">21 January, 2016 05:24</a></span></div><p class="comment-content">Hi Jeff,<br>Since
 retiring from engineer at CERN, I have just joined a collaboration with
 a bunch of CERN guys building a cosmic ray telescope.<br>When a cosmic 
ray hits the earths atmosphere it creates a conical shower of secondary 
particles that rain down over what would be an elliptic <br>area on the 
ground if the surface was flat. Thus if we were to cover the ground with
 small cosmic ray detectors that had good GPS chips (U-blox NEO-M8)<br>then each detector would know its location (longitude, latitude, elevation). <br>By
 using the trick I coded for the DUE counters, each detector could time 
stamp the arrival time of any particle that hit it. This information is 
passed<br>over the DUE serial link to a raspberry PI-2 that transmits 
this information, probably over UDP, to a central server that can 
determine the direction <br>from which the cosmic ray came by 
interpreting the time-stamps; and its energy which is proportional the 
area of the event on the ground and the elevation of the <br>detector.  
(If the shower foot print was a circle -&gt; equal time stamps -&gt; 
then it came straight down over its center - if you get me) <br>So the 
idea is to design a single cosmic ray detector for a low price &lt;500$ 
and then when the design is finalized to persuade as many people as<br>possible
 to build and run one, geeks, school scientists, and other weirdos that 
like doing that sort of thing. The more we get out there the better the<br>data we get. So its just a fun project with some really interesting and useful science behind it.<br>Cheers Julian</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4381968230572250174">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=4381968230572250174">Delete</a></span></span></div><div class="comment-replies"><div id="c4381968230572250174-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c4381968230572250174-ra" class="thread-chrome thread-expanded"><div></div><div id="c4381968230572250174-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4381968230572250174">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c4381968230572250174-ce"></div></li><li class="comment" id="c3456439675685984433"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1454246016342#c3456439675685984433">31 January, 2016 05:13</a></span></div><p class="comment-content">Here
 is the final version of the Timer sketch, it turns out that the DUE 
disables interrupts in Serial.print and uses spin locks completely 
disabling interrupts while printing. In the link below I add some logic 
to bypass this problem.<br><br>https://www.dropbox.com/sh/v0l92mtrjfu3cyn/AACRxkW5OMw8RNMfdHAn1FZRa?dl=0</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="3456439675685984433">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3456439675685984433">Delete</a></span></span></div><div class="comment-replies"><div id="c3456439675685984433-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3456439675685984433-ra" class="thread-chrome thread-expanded"><div></div><div id="c3456439675685984433-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3456439675685984433">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3456439675685984433-ce"></div></li><li class="comment" id="c5852252343464741640"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1454264143214#c5852252343464741640">31 January, 2016 10:15</a></span></div><p class="comment-content">I may have given the wrong link ---<br><br>https://www.dropbox.com/sh/3i84soej3v4pwjs/AAAE8kqFCriz-QofUaPczMhLa?dl=0<br><br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5852252343464741640">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=5852252343464741640">Delete</a></span></span></div><div class="comment-replies"><div id="c5852252343464741640-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c5852252343464741640-ra" class="thread-chrome thread-expanded"><div></div><div id="c5852252343464741640-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5852252343464741640">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c5852252343464741640-ce"></div></li><li class="comment" id="c6882162577080196676"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/00863226171189333421" rel="nofollow">Sergio Wandscheer</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1462448340523#c6882162577080196676">05 May, 2016 04:39</a></span></div><p class="comment-content">Dear Jeff, your post usefull for me. I need to create program similar quadrature decoder but using pulse and direction.-<br>I have written a code with external interrupt but not count more than 125khz and i need count up/down more faster until 200Khz<br>what can i do?<br>73´Dx LW7EOF<br>Sergio Wandscheer</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6882162577080196676">Reply</a><span class="item-control blog-admin blog-admin pid-1199098678"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6882162577080196676">Delete</a></span></span></div><div class="comment-replies"><div id="c6882162577080196676-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6882162577080196676-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c8810563954142464297"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1465691725586#c8810563954142464297">11 June, 2016 17:35</a></span></div><p class="comment-content">If
 you need to count faster with no other changes to the code, then you 
would pick an appropriate clock rate and set your RA and RC interrupt 
counts appropriately to generate the frequency output you would like as a
 50% duty cycle.  For example, if you use TIMER_CLOCK1 (42 MHz) then 
divide by the frequency you want (200kHz) as your RC value and 1/2 that 
as your RA value (for 50% duty cycle) that will give you the frequency 
you desire.<br><br>uint32_t rc = VARIANT_MCK / 2 / 200000;<br>TC_SetRA(tc, channel, rc / 2); // 50% duty cycle<br>TC_SetRC(tc, channel, rc);<br><br>I hope this helps!<br><br>Jeff</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=8810563954142464297">Delete</a></span></span></div><div class="comment-replies"><div id="c8810563954142464297-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c8810563954142464297-ra" class="thread-chrome thread-expanded"><div></div><div id="c8810563954142464297-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8810563954142464297">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c8810563954142464297-ce"></div></li></div><div id="c6882162577080196676-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6882162577080196676">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6882162577080196676-ce"></div></li><li class="comment" id="c2735701199720451971"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07514243958187394029" rel="nofollow">Androiduino Official</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1464703428352#c2735701199720451971">31 May, 2016 07:03</a></span></div><p class="comment-content">Hi
 jeff, thank you for your information, I am using your implementation of
 timer TC1, channel 0 using the TC3_IRQn with a frequency of 1 Hz, and I
 want to know how to Stop the Timer and later Restart it again?<br><br>Ricardo</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2735701199720451971">Reply</a><span class="item-control blog-admin blog-admin pid-790375904"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=2735701199720451971">Delete</a></span></span></div><div class="comment-replies"><div id="c2735701199720451971-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2735701199720451971-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3869162476204234445"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1465691809719#c3869162476204234445">11 June, 2016 17:36</a></span></div><p class="comment-content">Hello Ricardo. To stop the timer:<br><br> TC_Stop(tc, channel);<br><br>And, to restart it:<br><br> TC_Start(tc, channel);<br><br>Hope this helps!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3869162476204234445">Delete</a></span></span></div><div class="comment-replies"><div id="c3869162476204234445-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3869162476204234445-ra" class="thread-chrome thread-expanded"><div></div><div id="c3869162476204234445-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3869162476204234445">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3869162476204234445-ce"></div></li></div><div id="c2735701199720451971-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2735701199720451971">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2735701199720451971-ce"></div></li><li class="comment" id="c1895501815683046513"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10127324203569970036" rel="nofollow">BuzzBee</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466436277474#c1895501815683046513">20 June, 2016 08:24</a></span></div><p class="comment-content">This comment has been removed by a blog administrator.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="1895501815683046513">Reply</a><span class="item-control blog-admin blog-admin "><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=1895501815683046513">Delete</a></span></span></div><div class="comment-replies"><div id="c1895501815683046513-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c1895501815683046513-ra" class="thread-chrome thread-expanded"><div></div><div id="c1895501815683046513-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="1895501815683046513">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c1895501815683046513-ce"></div></li><li class="comment" id="c6956120804482480"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/Backup_11_9_15252B079.JPG" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10127324203569970036" rel="nofollow">BuzzBee</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466438446440#c6956120804482480">20 June, 2016 09:00</a></span></div><p class="comment-content">This comment has been removed by a blog administrator.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6956120804482480">Reply</a><span class="item-control blog-admin blog-admin "><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6956120804482480">Delete</a></span></span></div><div class="comment-replies"><div id="c6956120804482480-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6956120804482480-ra" class="thread-chrome thread-expanded"><div></div><div id="c6956120804482480-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6956120804482480">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6956120804482480-ce"></div></li><li class="comment" id="c2718637662911355004"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10605235122385876691" rel="nofollow">Brian Baxter</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466571751149#c2718637662911355004">21 June, 2016 22:02</a></span></div><p class="comment-content">Hi Jeff,<br><br>Thanks
 for this great post.  I'm hoping you can help with a little problem I'm
 having.  I have been able to blink an LED using the timer code you 
reference above but I wanted to expand the code a little.  I modified 
the code to sweep a PWM signal to the LED to change its intensity every 
second.  This worked great so I then decided to try to measure the 
output of a phototransitor at each PWM setting (between the 1 second 
intensity shifts).  I placed this measurement code in the main loop and 
setup a Serial.println command to send the measured voltage value out to
 the console.  This is where the code seems to fail.  The code compiles 
and runs up until the first interrupt is called.  The serial output 
stops and never restarts and the LED intensity does not change (its OFF 
to start).  It seems like the Serial command in the main loop is 
breaking the interrupt cycle or getting stuck in an infinite loop 
somehow.  Any insights would be appreciated.  <br><br>Thanks.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2718637662911355004">Reply</a><span class="item-control blog-admin blog-admin pid-478929723"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=2718637662911355004">Delete</a></span></span></div><div class="comment-replies"><div id="c2718637662911355004-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2718637662911355004-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3179328657290091685"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466575216270#c3179328657290091685">21 June, 2016 23:00</a></span></div><p class="comment-content">Hi Brian,<br><br>I
 apologize, but I deleted the two redundant copies of your comment. The 
text was the same, so I reduced the number of them to one.<br><br>I wonder if I might have the benefit of commenting on the actual code you are having trouble with?<br><br>I
 cannot tell with certainty without seeing the code, but my suspicion is
 that you may be attempting to do Serial.println calls inside an 
interrupt handler.  If so, you will find that Serial.println depends on 
interrupts to complete its task.  Since interrupts are disabled while 
inside an interrupt handler, you now have prevented Serial.println to 
complete as interrupts are disabled.  This is my best guess in the 
absence of seeing the code.<br><br>If you would not mind sharing the code, I can perhaps comment more specifically.<br><br>Thank you for your interest in my experiments with the Due.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3179328657290091685">Delete</a></span></span></div><div class="comment-replies"><div id="c3179328657290091685-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3179328657290091685-ra" class="thread-chrome thread-expanded"><div></div><div id="c3179328657290091685-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3179328657290091685">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3179328657290091685-ce"></div></li></div><div id="c2718637662911355004-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2718637662911355004">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2718637662911355004-ce"></div></li><li class="comment" id="c6178201071701823517"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466576597226#c6178201071701823517">21 June, 2016 23:23</a></span></div><p class="comment-content">The
 serial interface on the Arduino due actually switches interrupts off 
and dumps the text all in one go. Add a result it screws the timing up 
completely. To fix this problem i suggest you copy the text to a buffer 
instead (sprintf) and in the loop simply output one character. This way 
you only print when the timer logic is idle.I do this and the real time 
behavior is improved a lot. What's great about sonic this is that you 
can even print from within an isr.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6178201071701823517">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6178201071701823517">Delete</a></span></span></div><div class="comment-replies"><div id="c6178201071701823517-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6178201071701823517-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c3122729681693016629"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466952749208#c3122729681693016629">26 June, 2016 07:52</a></span></div><p class="comment-content">While
 I believe that printing from within an ISR to serial output is 
completely possible within some set of constraints, one must keep in 
mind that at for example 9600 baud (a typically slow serial output and 
the default on a lot of systems) a single character output is still on 
the order of 0.96 ms which is an eternity in the grand scheme of things.
  One must keep in mind therefore that all processing time from within 
an ISR is time that cannot be spent elsewhere due to interrupts being 
disabled.  In one of my work projects, I have timer interrupts for a 
servo control loop firing every 250 us.  The computational requirements 
during each timer interrupt were on the order of 170-180 us.  This means
 that 70% of the available MIPS are being spent on this one activity.  
Clearly it had to change and is now in the 50 us range on each interrupt
 leaving much more acceptable levels of processor available for other 
tasks.  The message is simple.  Keep your ISR routines short, sweet and 
to the point.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3122729681693016629">Delete</a></span></span></div><div class="comment-replies"><div id="c3122729681693016629-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3122729681693016629-ra" class="thread-chrome thread-expanded"><div></div><div id="c3122729681693016629-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3122729681693016629">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3122729681693016629-ce"></div></li></div><div id="c6178201071701823517-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6178201071701823517">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6178201071701823517-ce"></div></li><li class="comment" id="c7831486732981996270"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466957614165#c7831486732981996270">26 June, 2016 09:13</a></span></div><p class="comment-content">You missed the point, you store text in a buffer in the isr which gets probed our char by char on the loop.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7831486732981996270">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=7831486732981996270">Delete</a></span></span></div><div class="comment-replies"><div id="c7831486732981996270-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7831486732981996270-ra" class="thread-chrome thread-expanded"><div></div><div id="c7831486732981996270-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7831486732981996270">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7831486732981996270-ce"></div></li><li class="comment" id="c7807985059319391856"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466958659033#c7807985059319391856">26 June, 2016 09:30</a></span></div><p class="comment-content">code<br><br>// These two routines are needed because the Serial.print method prints without using interrupts.<br>// Calls to Serial.print block interrupts and use a wait in kernel space causing all ISRs to<br>// be blocked and hence we could miss some timer interrupts.<br>// To avoid this problem call PushTxt to have stuff delivered to the serial line, PushTxt simply<br>// stores your text for future print out by PutChar. The PutChar routine removes one character<br>// from the stored text each time its called. By placing a call to PutChar in the outermost loop<br>// of the Arduino loop function, then for each loop one character is printed, avoiding blocking<br>// of interrupts and vastly improving the loops real time behaviour.<br><br>// Copy text to the buffer for future printing<br><br>void PushTxt(char *txt) {<br><br>        int i, l = strlen(txt);<br><br>        // If this happens there is a programming bug<br><br>        if (l &gt; TBLEN) {                // Can't handle more than TBLEN at a time<br>                terr = TXT_TOOBIG;      // say error and abort<br>                return;<br>        }<br><br>        // If the buffer is filling up to fast throw it away and return an error<br><br>        if ((l + tsze) &gt;= TBLEN) {      // If there is no room in the buffer<br>                terr = TXT_OVERFL;      // Buffer overflow<br>                return;                 // Simply stop printing when txt comming too fast<br>        }<br><br>        // Copy the new text onto the ring buffer for later output<br>        // from the loop idle function<br><br>        for (i=0; i&lt;l; i++) {<br>                txtb[txtw] = txt[i];            // Put char in the buffer and<br>                txtw = (txtw + 1) % TBLEN;      // get the next write pointer modulo TBLEN<br>        }<br>        tsze = (tsze + l) % TBLEN;              // new buffer size<br>}<br><br>// Take the next character from the ring buffer and print it, called from the main loop<br><br>void PutChar() {<br><br>        char c[2];                      // One character zero terminated string<br><br>        if (tsze) {                     // If the buffer is not empty<br><br>                c[0] = txtb[txtr];              // Get the next character from the read pointer<br>                c[1] = '\0';                    // Build a zero terminated string<br>                txtr = (txtr + 1) % TBLEN;      // Get the next read pointer modulo TBLEN<br>                tsze = (tsze - 1) % TBLEN;      // Reduce the buffer size<br>                Serial.print(c);                // and print the character<br>        }<br>}<br><br>// Arduino main loop does all the user space work<br><br>void loop() {<br>   PutChar();      // Print one character per loop !!!<br>}<br><br>end code</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="7807985059319391856">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=7807985059319391856">Delete</a></span></span></div><div class="comment-replies"><div id="c7807985059319391856-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c7807985059319391856-ra" class="thread-chrome thread-expanded"><div></div><div id="c7807985059319391856-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="7807985059319391856">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c7807985059319391856-ce"></div></li><li class="comment" id="c2999692011196208959"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466958947609#c2999692011196208959">26 June, 2016 09:35</a></span></div><p class="comment-content">Sorry I am not sure how to publish code on this page ...<br><br>So the idea is you just push text from anywhere it takes hardly any time to copy to a buffer.<br>In loop any text in the buffer is output one character at a  time. If the buffer overflows the text gets thrown away.<br>So
 this allows printing to the serial brain dead arduino port without 
screwing up the real time performance. We use this method in out 
cosmic-pi project and it works fine.<br>http://facebook.com/cosmicpi<br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="2999692011196208959">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=2999692011196208959">Delete</a></span></span></div><div class="comment-replies"><div id="c2999692011196208959-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c2999692011196208959-ra" class="thread-chrome thread-expanded"><div></div><div id="c2999692011196208959-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="2999692011196208959">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c2999692011196208959-ce"></div></li><li class="comment" id="c4083599440275884802"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466959086829#c4083599440275884802">26 June, 2016 09:38</a></span></div><p class="comment-content">About keeping the ISR short and sweet, I totally agree. This technique is however useful to debug code.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4083599440275884802">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=4083599440275884802">Delete</a></span></span></div><div class="comment-replies"><div id="c4083599440275884802-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c4083599440275884802-ra" class="thread-chrome thread-expanded"><div></div><div id="c4083599440275884802-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4083599440275884802">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c4083599440275884802-ce"></div></li><li class="comment" id="c4752343002540201970"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_004.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/10816714986007466018" rel="nofollow">Julian Lewis</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466959279929#c4752343002540201970">26 June, 2016 09:41</a></span></div><p class="comment-content">Sorry ... here is how you call it ...<br><br>sprintf(txt,"{'location':{'latitude':%f,'longitude':%f,'altitude':%f}}\n",latitude,longitude,altitude);<br><br>PushTxt(txt);<br><br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4752343002540201970">Reply</a><span class="item-control blog-admin blog-admin pid-87204797"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=4752343002540201970">Delete</a></span></span></div><div class="comment-replies"><div id="c4752343002540201970-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c4752343002540201970-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c8630373597058506454"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1466998778043#c8630373597058506454">26 June, 2016 20:39</a></span></div><p class="comment-content">Very
 good Julian.  I believe I understand what you are saying.  The 
technique of building a circular buffer in the ISR and emptying it in 
the main loop is very appropriate.  I further understand the issue of 
printing a bunch of text might prevent other interrupts from happening 
during portions of that serial output.  It is certainly a balancing act 
of ensuring that there is enough CPU processing power available to 
handle all processing, be it computational or I/O processing.  It also 
points to the need to develop techniques such as you have done to allow 
spreading the available CPU time around.  Besides optimizing code, other
 techniques might include careful interrupt priority tuning.  Thank you 
for sharing your well thought out and implemented solution to a tricky 
problem.  Well done sir.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=8630373597058506454">Delete</a></span></span></div><div class="comment-replies"><div id="c8630373597058506454-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c8630373597058506454-ra" class="thread-chrome thread-expanded"><div></div><div id="c8630373597058506454-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8630373597058506454">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c8630373597058506454-ce"></div></li></div><div id="c4752343002540201970-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4752343002540201970">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c4752343002540201970-ce"></div></li><li class="comment" id="c8411165289910993810"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/07598860672236193001" rel="nofollow">ch.vinodkumarchowdary</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1487139594651#c8411165289910993810">14 February, 2017 22:19</a></span></div><p class="comment-content">what is event counter? how it will be used in arduino due</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="8411165289910993810">Reply</a><span class="item-control blog-admin blog-admin pid-1715753151"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=8411165289910993810">Delete</a></span></span></div><div class="comment-replies"><div id="c8411165289910993810-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c8411165289910993810-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c6383382917548513177"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1490202437064#c6383382917548513177">22 March, 2017 10:07</a></span></div><p class="comment-content">If
 you took the counter's clock input and connected it to an external pin 
that toggles when some event occurs, you are now clocking the counter 
based on those events happening.  The value of the counter is the count 
of the events that occurred.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6383382917548513177">Delete</a></span></span></div><div class="comment-replies"><div id="c6383382917548513177-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6383382917548513177-ra" class="thread-chrome thread-expanded"><div></div><div id="c6383382917548513177-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6383382917548513177">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6383382917548513177-ce"></div></li></div><div id="c8411165289910993810-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="8411165289910993810">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c8411165289910993810-ce"></div></li><li class="comment" id="c3556138480964358988"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_003.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/11621351169363476305" rel="nofollow">Matthew Hendy</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1499500309245#c3556138480964358988">08 July, 2017 00:51</a></span></div><p class="comment-content">Hi Jeff,<br><br>Thank
 you for writing this post, it was the best resource I have found that 
actually addresses how to implement timer counters on the Arduino Due. I
 feel that now I am tantalisingly close to realising the controllable 
PWM generators that I want. I seem to have an issue when calling the 
TimerStart function however. The code I have currently can be found 
here: 
https://github.com/MattJH10/Arduino-Due-PWM/blob/master/DueTimerTest.ino<br><br>The
 loop function has been tested separately and does work but when the 
TimerStart function call is commented back in the serial stops working 
and the code doesn't seem to do anything. Can I define channel A and B 
at the same time? Have I got the right syntax for the timers? I would 
greatly appreciate your help. <br><br>Thank you.</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="3556138480964358988">Reply</a><span class="item-control blog-admin blog-admin pid-331928788"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3556138480964358988">Delete</a></span></span></div><div class="comment-replies"><div id="c3556138480964358988-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3556138480964358988-ra" class="thread-chrome thread-expanded"><div></div><div id="c3556138480964358988-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3556138480964358988">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3556138480964358988-ce"></div></li><li class="comment" id="c756130478699810318"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1508126312533#c756130478699810318">15 October, 2017 20:58</a></span></div><p class="comment-content">One
 issue I see with the code you posted to github is that you are calling 
TimerStart in the setup() function but the pwmDuty[] values have not yet
 been set to any value so the values are non-deterministic.  This will 
certainly cause random results.  One possibly solution would be for you 
to initialize the pwmDuty[] values before calling TimerStart with 
reasonable defaults and then allow changing them in your main loop as 
you have implemented.  Good luck!</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="756130478699810318">Reply</a><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=756130478699810318">Delete</a></span></span></div><div class="comment-replies"><div id="c756130478699810318-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c756130478699810318-ra" class="thread-chrome thread-expanded"><div></div><div id="c756130478699810318-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="756130478699810318">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c756130478699810318-ce"></div></li><li class="comment" id="c4854994207412902902"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_005.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01178509643837051665" rel="nofollow">Kurt Guldbæk</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1508191395263#c4854994207412902902">16 October, 2017 15:03</a></span></div><p class="comment-content">Hi Jeff.<br>I would like to ask for something about Arduino DUE timer, but can not find out the way to do it.<br>Is there any help to do it in the rigth way?<br><br>ind regards Kurt.<br>OZ8HZ</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="4854994207412902902">Reply</a><span class="item-control blog-admin blog-admin pid-1337652625"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=4854994207412902902">Delete</a></span></span></div><div class="comment-replies"><div id="c4854994207412902902-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c4854994207412902902-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c589723169090490964"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1508205431526#c589723169090490964">16 October, 2017 18:57</a></span></div><p class="comment-content">Hello Kurt,<br><br>Just
 post your reply here and I will respond.  I do not allow immediately 
publishing replies or comments until I have reviewed them so your 
question or comment will not be immediately visible on my blog until 
after I have reviewed it.  I am happy to field any question you might 
have.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=589723169090490964">Delete</a></span></span></div><div class="comment-replies"><div id="c589723169090490964-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c589723169090490964-ra" class="thread-chrome thread-expanded"><div></div><div id="c589723169090490964-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="589723169090490964">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c589723169090490964-ce"></div></li></div><div id="c4854994207412902902-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="4854994207412902902">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c4854994207412902902-ce"></div></li><li class="comment" id="c5317932378977652922"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_005.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01178509643837051665" rel="nofollow">Kurt Guldbæk</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1508229304333#c5317932378977652922">17 October, 2017 01:35</a></span></div><p class="comment-content">Hi, Jeff.<br>I am trying to make a TACAN simulator (ground station) with the Arduino DUE.<br>I include , and use Timer1 to make squitter pulses. Timer2 is used to make Northburst an AUX.<br>To start Timer1:  Timer1.attachInterrupt(T1IRQ).start(185);<br>When Timer1 gives irq, I has to start it again with a new period with the command: Timer1.start(JitterArray[jitterptr]);<br>JitterArray[jitterptr] is an array with random time 185uS +-20uS.<br>But the start-command is to slow, use ca. 100uS to start the timer.<br><br>Is there an quick methode to change the Timer1 period?<br><br>The
 DAC-routine in DUE is also to slow, so I make a R2R-ladder network on 
PORTD and store the pulsevalue with the command: PIOD-&gt;PIO_ODSR = 
puls360[DAC][ii]; in abouth 50nS.<br><br>Can this method be used to change the timer?<br><br>Kind regards Kurt<br>OZ8HX<br><br></p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="5317932378977652922">Reply</a><span class="item-control blog-admin blog-admin pid-1337652625"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=5317932378977652922">Delete</a></span></span></div><div class="comment-replies"><div id="c5317932378977652922-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c5317932378977652922-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c6755697006680028161"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1508683017455#c6755697006680028161">22 October, 2017 07:36</a></span></div><p class="comment-content">Hello Kurt,<br><br>I
 am researching the timer start performance and will comment later. The 
DAC conversion is clocked off of the MKLC (84 MHz) divided by two (42 
MHz). The conversion is complete after 25 clocks so best case is 0.595 
us (595 ns). There is a small fifo on front of the DAC and when it is 
full the TXRDY bit will de-assert in the DAC control register indicating
 it is currently not ready for data. So if you need the 50 ns conversion
 speed, your R2R ladder is a simple solution.</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6755697006680028161">Delete</a></span></span></div><div class="comment-replies"><div id="c6755697006680028161-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6755697006680028161-ra" class="thread-chrome thread-expanded"><div></div><div id="c6755697006680028161-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6755697006680028161">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6755697006680028161-ce"></div></li><li class="comment" id="c3202546150677598911"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1508717308124#c3202546150677598911">22 October, 2017 17:08</a></span></div><p class="comment-content">Hello Kurt,<br><br>At
 this moment in time I do not have time to research the best performance
 you can expect out of timer starts.  You have not told me the 
performance that you require.  One possible solution might be to 
eliminate the need to change the timer frequency at all and instead have
 it interrupt at the shortest period that you require and merely keep a 
counter that increments on every interrupt.  You can then measure time 
changes in that increment and with a simple subtraction determine that 
your time period has expired.  For example just pass the incrementing 
value into a function that needs to measure time.  That function then 
can keep a static start timer count value and subtract it from the new 
value passed in to determine if sufficient time has passed.  A simple 
subtraction will certainly perform better than the reconfiguration of a 
timer peripheral.  Let me know how you get on with this project!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=3202546150677598911">Delete</a></span></span></div><div class="comment-replies"><div id="c3202546150677598911-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c3202546150677598911-ra" class="thread-chrome thread-expanded"><div></div><div id="c3202546150677598911-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="3202546150677598911">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c3202546150677598911-ce"></div></li></div><div id="c5317932378977652922-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="5317932378977652922">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c5317932378977652922-ce"></div></li><li class="comment" id="c6100566859356960107"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_005.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/01178509643837051665" rel="nofollow">Kurt Guldbæk</a></cite><span class="icon user "></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1509959744020#c6100566859356960107">06 November, 2017 01:15</a></span></div><p class="comment-content">I has found a solution for Timer0 on the web. <br>for the moment I use this:<br><br>   PIOA-&gt;PIO_SODR=1&lt;&lt;10;   // pin19 high. Use 22ns. My marker.<br>    REG_TC0_WPMR=0x54494D00; // enable write to registers<br>    REG_TC0_CMR0=0b00000000000010011100010000000000; // set channel mode register (see datasheet)<br>    REG_TC0_RC0=(jitter[jitterptr]); // counter period<br>    REG_TC0_CCR0=0b101;    // start counter<br>    REG_TC0_IER0=0b00010000; // enable interrupt on counter=rc<br>    REG_TC0_IDR0=0b11101111; // disable other interrupts<br>    NVIC_EnableIRQ(TC0_IRQn); // enable TC0 interrupts<br>    PIOA-&gt;PIO_CODR=1&lt;&lt;10;   // pin19 low. My marker<br> <br>It work, and use ~700 nS, but I has to find out how it work and how to set up on other timers.<br>Kurt</p><span class="comment-actions secondary-text"><a class="comment-reply" target="_self" data-comment-id="6100566859356960107">Reply</a><span class="item-control blog-admin blog-admin pid-1337652625"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=6100566859356960107">Delete</a></span></span></div><div class="comment-replies"><div id="c6100566859356960107-rt" class="comment-thread inline-thread"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c6100566859356960107-ra" class="thread-chrome thread-expanded"><div><li class="comment" id="c263443064548235214"><div class="avatar-image-container"><img src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo.jpg" alt=""></div><div class="comment-block"><div class="comment-header"><cite class="user"><a href="https://www.blogger.com/profile/17258789919264407403" rel="nofollow">Jeff Whitlatch</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html?showComment=1510469650899#c263443064548235214">11 November, 2017 22:54</a></span></div><p class="comment-content">Hello Kurt,<br><br>I
 am delighted that you were able to find a solution that meets your 
performance requirements.  I dare say that not all of that is going to 
be necessary in order to just change the period.  You will certainly 
need it all on the initial setup, but if you are merely changing the 
counter period, resetting REG_TC0_RC0 to the new period and re-enabling 
the counter interrupt is likely all that would be necessary.  Best of 
luck in your efforts!</p><span class="comment-actions secondary-text"><span class="item-control blog-admin blog-admin pid-1002897306"><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6737713102444501259&amp;postID=263443064548235214">Delete</a></span></span></div><div class="comment-replies"><div id="c263443064548235214-rt" class="comment-thread inline-thread hidden"><span class="thread-toggle thread-expanded"><span class="thread-arrow"></span><span class="thread-count"><a target="_self">Replies</a></span></span><ol id="c263443064548235214-ra" class="thread-chrome thread-expanded"><div></div><div id="c263443064548235214-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="263443064548235214">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c263443064548235214-ce"></div></li></div><div id="c6100566859356960107-continue" class="continue"><a class="comment-reply" target="_self" data-comment-id="6100566859356960107">Reply</a></div></ol></div></div><div class="comment-replybox-single" id="c6100566859356960107-ce"></div></li></ol><div id="top-continue" class="continue"><a class="comment-reply" target="_self">Add comment</a></div><div class="comment-replybox-thread" id="top-ce"></div><div class="loadmore hidden" data-post-id="444614207665381554"><a target="_self">Load more...</a></div></div>
</div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=6737713102444501259&amp;postID=444614207665381554" id="comment-editor-src"></a>
<iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" id="comment-editor" name="comment-editor" src="" width="100%" height="410px" frameborder="0"></iframe>
<script src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/55386745-comment_from_post_iframe.js" type="text/javascript"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://ko7m.blogspot.com/2015/01/arduino-adc-conversion-rate.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://ko7m.blogspot.com/2015/01/arduino-due-first-project.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://ko7m.blogspot.com/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Subscribe to:
<a class="feed-link" href="http://ko7m.blogspot.com/feeds/444614207665381554/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a>
</div>
</div>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget BlogSearch" data-version="1" id="BlogSearch1">
<h2 class="title">Search This Blog</h2>
<div class="widget-content">
<div id="BlogSearch1_form">
<form action="http://ko7m.blogspot.com/search" class="gsc-search-box" target="_top">
<table class="gsc-search-box" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="gsc-input">
<input autocomplete="off" class="gsc-input" name="q" size="10" title="search" type="text">
</td>
<td class="gsc-search-button">
<input class="gsc-search-button" title="search" type="submit" value="Search">
</td>
</tr>
</tbody>
</table>
</form>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6737713102444501259&amp;widgetType=BlogSearch&amp;widgetId=BlogSearch1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogSearch1"));' rel="nofollow" target="configBlogSearch1" title="Edit">
<img alt="" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget Profile" data-version="1" id="Profile1">
<h2>About Me</h2>
<div class="widget-content">
<a href="https://plus.google.com/103308733269723868296"><img alt="My photo" class="profile-img" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/photo_002.jpg" width="80" height="80"></a>
<dl class="profile-datablock">
<dt class="profile-data">
<a class="profile-name-link g-profile" href="https://plus.google.com/103308733269723868296" rel="author" style="background-image: url(//www.google.com/images/icons/ui/gprofile_button-16.png);">
Jeff Whitlatch
</a>
<br>
<div class="g-follow" data-annotation="bubble" data-height="20" data-href="https://plus.google.com/103308733269723868296"></div>
</dt>
<dd class="profile-textblock">Commercial Pilot, Ham Radio addict since 1968, Electronics buff, Professional Software Engineer.</dd>
</dl>
<a class="profile-link" href="https://plus.google.com/103308733269723868296" rel="author">View my complete profile</a>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6737713102444501259&amp;widgetType=Profile&amp;widgetId=Profile1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("Profile1"));' rel="nofollow" target="configProfile1" title="Edit">
<img alt="" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget Followers" data-version="1" id="Followers1">
<h2 class="title">Followers</h2>
<div class="widget-content">
<div id="Followers1-wrapper">
<div style="margin-right:2px;">
<div><script type="text/javascript" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/plusone.js"></script>
<div id="followers-iframe-container"></div>
<script type="text/javascript">
    window.followersIframe = null;
    function followersIframeOpen(url) {
      gapi.load("gapi.iframes", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          window.followersIframe = gapi.iframes.getContext().openChild({
            url: url,
            where: document.getElementById("followers-iframe-container"),
            messageHandlersFilter: gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
            messageHandlers: {
              '_ready': function(obj) {
                window.followersIframe.getIframeEl().height = obj.height;
              },
              'reset': function() {
                window.followersIframe.close();
                followersIframeOpen("https://www.blogger.com/followers.g?blogID\x3d6737713102444501259\x26colors\x3dCgt0cmFuc3BhcmVudBILdHJhbnNwYXJlbnQaByNmZmVlZGQiByNmZmNjNzcqC3RyYW5zcGFyZW50MgcjZmZmZmZmOgcjZmZlZWRkQgcjZmZjYzc3SgcjOTk4ODc3UgcjZmZjYzc3Wgt0cmFuc3BhcmVudA%3D%3D\x26pageSize\x3d21\x26postID\x3d444614207665381554\x26origin\x3dhttp://ko7m.blogspot.com/");
              },
              'open': function(url) {
                window.followersIframe.close();
                followersIframeOpen(url);
              },
              'blogger-ping': function() {
              }
            }
          });
        }
      });
    }
    followersIframeOpen("https://www.blogger.com/followers.g?blogID\x3d6737713102444501259\x26colors\x3dCgt0cmFuc3BhcmVudBILdHJhbnNwYXJlbnQaByNmZmVlZGQiByNmZmNjNzcqC3RyYW5zcGFyZW50MgcjZmZmZmZmOgcjZmZlZWRkQgcjZmZjYzc3SgcjOTk4ODc3UgcjZmZjYzc3Wgt0cmFuc3BhcmVudA%3D%3D\x26pageSize\x3d21\x26postID\x3d444614207665381554\x26origin\x3dhttp://ko7m.blogspot.com/");
  </script></div>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6737713102444501259&amp;widgetType=Followers&amp;widgetId=Followers1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("Followers1"));' rel="nofollow" target="configFollowers1" title="Edit">
<img alt="" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget BlogArchive" data-version="1" id="BlogArchive1">
<h2>Blog Archive</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2018/">
2018
</a>
<span class="post-count" dir="ltr">(3)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2018/12/">
December
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2018/04/">
April
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2018/01/">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/">
2017
</a>
<span class="post-count" dir="ltr">(11)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/12/">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/11/">
November
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/10/">
October
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/05/">
May
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/04/">
April
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2017/01/">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/">
2016
</a>
<span class="post-count" dir="ltr">(26)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/12/">
December
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/11/">
November
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/10/">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/07/">
July
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/06/">
June
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/05/">
May
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/04/">
April
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/03/">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2016/01/">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/">
2015
</a>
<span class="post-count" dir="ltr">(40)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/12/">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/11/">
November
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/10/">
October
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/09/">
September
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/08/">
August
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/07/">
July
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/06/">
June
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/05/">
May
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/04/">
April
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/03/">
March
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/02/">
February
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2015/01/">
January
</a>
<span class="post-count" dir="ltr">(3)</span>
<ul class="posts">
<li><a href="http://ko7m.blogspot.com/2015/01/arduino-adc-conversion-rate.html">Arduino ADC conversion rate</a></li>
<li><a href="http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html">Arduino Due Timers (Part 1)</a></li>
<li><a href="http://ko7m.blogspot.com/2015/01/arduino-due-first-project.html">Arduino Due first project</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/">
2014
</a>
<span class="post-count" dir="ltr">(58)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/12/">
December
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/11/">
November
</a>
<span class="post-count" dir="ltr">(7)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/10/">
October
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/09/">
September
</a>
<span class="post-count" dir="ltr">(16)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/08/">
August
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/07/">
July
</a>
<span class="post-count" dir="ltr">(7)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/06/">
June
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/05/">
May
</a>
<span class="post-count" dir="ltr">(8)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/04/">
April
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/03/">
March
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2014/02/">
February
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/">
2013
</a>
<span class="post-count" dir="ltr">(7)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/09/">
September
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/08/">
August
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/06/">
June
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/05/">
May
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/03/">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2013/01/">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/">
2012
</a>
<span class="post-count" dir="ltr">(74)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/11/">
November
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/10/">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/09/">
September
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/08/">
August
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/05/">
May
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/04/">
April
</a>
<span class="post-count" dir="ltr">(8)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/03/">
March
</a>
<span class="post-count" dir="ltr">(13)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/02/">
February
</a>
<span class="post-count" dir="ltr">(21)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2012/01/">
January
</a>
<span class="post-count" dir="ltr">(22)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/">
2011
</a>
<span class="post-count" dir="ltr">(32)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/11/">
November
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/10/">
October
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/09/">
September
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/08/">
August
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/07/">
July
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/06/">
June
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/05/">
May
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/04/">
April
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/03/">
March
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://ko7m.blogspot.com/2011/02/">
February
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6737713102444501259&amp;widgetType=BlogArchive&amp;widgetId=BlogArchive1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' rel="nofollow" target="configBlogArchive1" title="Edit">
<img alt="" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget LinkList" data-version="1" id="LinkList1">
<h2>QRSS Grabbers</h2>
<div class="widget-content">
<ul>
<li><a href="http://qsl.net/wa0uwh/grabber/">Lake Stevens, WA</a></li>
<li><a href="http://www.qsl.net/kk7cc/kk7ccgrabber.html">Las Vegas, NV</a></li>
<li><a href="http://www.igrin.co.nz/~peter/Grabber.htm">Northland, New Zealand</a></li>
<li><a href="http://www.qsl.net/w4hbk/W4HBKgrabber.html">Pensacola, FL</a></li>
<li><a href="http://www.qsl.net/ko7m/grabber">Redmond, WA</a></li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6737713102444501259&amp;widgetType=LinkList&amp;widgetId=LinkList1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("LinkList1"));' rel="nofollow" target="configLinkList1" title="Edit">
<img alt="" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot no-items section" id="footer-1"></div>
<table class="section-columns columns-2" cellspacing="0" cellpadding="0" border="0">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot no-items section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot no-items section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3" name="Footer"><div class="widget Attribution" data-version="1" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Watermark theme. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6737713102444501259&amp;widgetType=Attribution&amp;widgetId=Attribution1&amp;action=editWidget&amp;sectionId=footer-3" onclick='return _WidgetManager._PopupConfig(document.getElementById("Attribution1"));' rel="nofollow" target="configAttribution1" title="Edit">
<img alt="" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/plusone.js" type="text/javascript"></script>
<!--Het is jouw verantwoordelijkheid om je bezoekers te laten weten dat je er op je blog cookies worden gebruikt en gegevens worden verzameld. Blogger stelt een standaardmelding beschikbaar die je op je blog kunt gebruiken. Je kunt de melding naar wens aanpassen of zelf een eigen melding opstellen. Zie http://www.blogger.com/go/cookiechoices voor meer informatie.-->
<script defer="defer" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/cookienotice.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function(event) {
      window.cookieChoices && cookieChoices.showCookieConsentBar && cookieChoices.showCookieConsentBar(
          (window.cookieOptions && cookieOptions.msg) || 'Deze site gebruikt cookies van Google om services te leveren en verkeer te analyseren. Je IP-adres en user-agent worden met Google gedeeld, samen met prestatie- en beveiligingsstatistieken om servicekwaliteit te garanderen, gebruiksstatistieken te genereren, misbruik te detecteren en maatregelen te treffen.',
          (window.cookieOptions && cookieOptions.close) || 'OK',
          (window.cookieOptions && cookieOptions.learn) || 'Meer informatie',
          (window.cookieOptions && cookieOptions.link) || 'https://www.blogger.com/go/blogspot-cookies');
    });
  </script>

<script type="text/javascript" src="KO7M%20-%20Ham%20Radio%20Blog%20%20Arduino%20Due%20Timers%20(Part%201)_files/613741347-widgets.js"></script>
<script type="text/javascript">
window['__wavt'] = 'AOuZoY76EhP2wVNvAOdPl1q-plM4mgU2Mw:1551461065459';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d6737713102444501259','//ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html','6737713102444501259');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '6737713102444501259', 'title': 'KO7M - Ham Radio Blog', 'url': 'http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html', 'canonicalUrl': 'http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html', 'homepageUrl': 'http://ko7m.blogspot.com/', 'searchUrl': 'http://ko7m.blogspot.com/search', 'canonicalHomepageUrl': 'http://ko7m.blogspot.com/', 'blogspotFaviconUrl': 'http://ko7m.blogspot.com/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': '', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22KO7M - Ham Radio Blog - Atom\x22 href\x3d\x22http://ko7m.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22KO7M - Ham Radio Blog - RSS\x22 href\x3d\x22http://ko7m.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22KO7M - Ham Radio Blog - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/6737713102444501259/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22KO7M - Ham Radio Blog - Atom\x22 href\x3d\x22http://ko7m.blogspot.com/feeds/444614207665381554/comments/default\x22 /\x3e\n', 'meTag': '', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': false, 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/864213505-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/10e1587ad393f321', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'disableGComments': true, 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'disableGooglePlus': true, 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'item', 'postId': '444614207665381554', 'postImageThumbnailUrl': 'http://3.bp.blogspot.com/-KRype12M0S4/VLSyX7f8aNI/AAAAAAAAA-c/dvt7tQLtvdo/s72-c/Capture.PNG', 'postImageUrl': 'http://3.bp.blogspot.com/-KRype12M0S4/VLSyX7f8aNI/AAAAAAAAA-c/dvt7tQLtvdo/s1600/Capture.PNG', 'pageName': 'Arduino Due Timers (Part 1)', 'pageTitle': 'KO7M - Ham Radio Blog: Arduino Due Timers (Part 1)'}}, {'name': 'features', 'data': {'sharing_get_link_dialog': 'true', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard!', 'ok': 'Ok', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'name': 'Watermark', 'localizedName': 'Watermark', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false, 'variant': 'navigator', 'variantId': 'navigator'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Arduino Due Timers (Part 1)', 'description': 'My next foray into the wild and wonderful world of Arduino Due will be to take a close look at the Due notion of Timers. &#160;Tighten up the sea...', 'featuredImage': 'http://3.bp.blogspot.com/-KRype12M0S4/VLSyX7f8aNI/AAAAAAAAA-c/dvt7tQLtvdo/s1600/Capture.PNG', 'url': 'http://ko7m.blogspot.com/2015/01/arduino-due-timers-part-1.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 444614207665381554}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/2498897053-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogSearchView', new _WidgetInfo('BlogSearch1', 'sidebar-right-1', document.getElementById('BlogSearch1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FollowersView', new _WidgetInfo('Followers1', 'sidebar-right-1', document.getElementById('Followers1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList1', 'sidebar-right-1', document.getElementById('LinkList1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>

</body></html>